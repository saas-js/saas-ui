import{a as b}from"./chunk-BNBIDCWF.js";import{f as u,i as t,j as h}from"./chunk-SRHFU3RL.js";import"./chunk-AKZB7BS6.js";import"./chunk-RIVI6ZUL.js";import"./chunk-FW7US4TT.js";import L from"cli-table3";import c from"kleur";import $ from"path";import g from"zod";var C=g.object({category:g.string().optional(),search:g.string().optional(),cwd:g.string().optional()});async function k(m,...w){try{let p=C.parse({...m,cwd:$.resolve(m.cwd??process.cwd())}),f=await u(p.cwd);if(!f){t.error("Failed to fetch config.");return}let n=w?.[0],i=n?n.startsWith("@")?n:`@${n}`:void 0,r=C.parse(m),y=await b(f,i);if(!y){let e=i?` for namespace ${i}`:"";t.error(`Failed to fetch registry index${e}.`);return}let d=new L({head:["Name","Category","type","Description"],colWidths:[35,15,20,50],style:{head:["cyan"],border:["gray"]}}),s=y.filter(e=>["registry:block","registry:ui"].includes(e.type));if(r.category&&(s=s.filter(e=>e.subcategory?.toLowerCase().includes(r.category.toLowerCase()))),r.search){let e=r.search.toLowerCase();s=s.filter(o=>o.name.toLowerCase().includes(e)||o.description?.toLowerCase().includes(e)||o.category?.toLowerCase().includes(e)||o.subcategory?.toLowerCase().includes(e))}s=s.sort((e,o)=>e.subcategory!==o.subcategory?e.subcategory?.localeCompare(o.subcategory||"")||0:e.name.localeCompare(o.name));for(let e of s){let o=e.private?`${e.name} ${c.blue(c.bold("(PRO)"))}`:e.name;d.push([o,e.subcategory||"-",e.type||"-",e.description||"-"])}t.log("");let a="Available Components";i&&(a+=` from ${c.cyan(i)}`),a+=":";let l=[];r.category&&l.push(`subcategory: ${r.category}`),r.search&&l.push(`search: "${r.search}"`),l.length>0&&(a=a.slice(0,-1),a+=` (filtered by ${l.join(", ")}):`),t.log(c.bold(a)),t.log(""),t.log(d.toString()),t.log(""),t.log(`Total: ${c.green(s.length)} components`),t.log("")}catch(p){h(p)}}export{k as list};
//# sourceMappingURL=impl-FD3XAAHN.js.map