{
  "name": "persona",
  "type": "registry:ui",
  "dependencies": [
    "@chakra-ui/react",
    "@saas-ui/chakra-preset",
    "@saas-ui/core"
  ],
  "registryDependencies": [
    "avatar/avatar.tsx",
    "./persona.context.ts",
    "./presence.ts"
  ],
  "files": [
    {
      "path": "ui/persona/persona.tsx",
      "content": "'use client'\n\nimport React, { forwardRef, useMemo } from 'react'\n\nimport {\n  AvatarPropsProvider,\n  HTMLChakraProps,\n  type ImageProps,\n  type SlotRecipeProps,\n  chakra,\n  mergeProps,\n} from '@chakra-ui/react'\nimport type { PersonaVariantProps } from '@saas-ui/chakra-preset/slot-recipes/persona'\nimport { dataAttr } from '@saas-ui/core/utils'\nimport { cx } from '@saas-ui/core/utils'\n\nimport { Avatar, type AvatarProps } from '../avatar/avatar.tsx'\nimport {\n  ClassNamesProvider,\n  StylesProvider,\n  usePropsContext,\n  useRecipeResult,\n  withContext,\n} from './persona.context.ts'\nimport type { PersonaPresence } from './presence.ts'\n\ninterface PersonaRootProps\n  extends HTMLChakraProps<'div'>,\n    SlotRecipeProps<'suiPersona'>,\n    PersonaVariantProps {\n  /**\n   * Indicates that a person is out of office. Changes the presence badge style.\n   */\n  outOfOffice?: boolean\n  /**\n   * The presence status of the person\n   */\n  presence?: PersonaPresence\n}\n\n/**\n * The root component that provides context and styles.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaRoot = forwardRef<HTMLDivElement, PersonaRootProps>(\n  (props, ref) => {\n    const propsContext = usePropsContext()\n\n    const mergedProps = useMemo(\n      () => mergeProps(propsContext, props),\n      [propsContext, props],\n    )\n\n    const {\n      styles,\n      props: rootProps,\n      classNames,\n    } = useRecipeResult(mergedProps)\n\n    const className = classNames['root']\n\n    const { outOfOffice, presence, ...rest } = rootProps\n\n    return (\n      <StylesProvider value={styles}>\n        <ClassNamesProvider value={classNames}>\n          <AvatarPropsProvider\n            value={{\n              size: props.size,\n            }}\n          >\n            <chakra.div\n              ref={ref}\n              {...rest}\n              data-out-of-office={dataAttr(outOfOffice)}\n              data-presence={presence}\n              css={[\n                presence\n                  ? {\n                      '--persona-presence': `colors.presence.${presence}`,\n                    }\n                  : undefined,\n                styles['root'],\n                rest.css,\n              ]}\n              className={cx(className, rest.className)}\n            />\n          </AvatarPropsProvider>\n        </ClassNamesProvider>\n      </StylesProvider>\n    )\n  },\n)\n\ninterface PersonaAvatarOptions {\n  /**\n   * The name of the person in the avatar.\n   *\n   * - if `src` has loaded, the name will be used as the `alt` attribute of the `img`\n   * - If `src` is not loaded, the name will be used to create the initials\n   */\n  name?: string\n}\n\ninterface PersonaAvatarProps extends PersonaAvatarOptions, AvatarProps {\n  src?: string\n  srcSet?: string\n  loading?: ImageProps['loading']\n  icon?: React.ReactElement\n  fallback?: React.ReactNode\n  getInitials?: (name?: string | null) => string | null\n}\n\n/**\n * An avatar with optional status badge.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaAvatar = forwardRef<HTMLDivElement, PersonaAvatarProps>(\n  (props, ref) => {\n    const { children, ...rest } = props\n\n    return (\n      <Avatar ref={ref} {...rest}>\n        {children}\n      </Avatar>\n    )\n  },\n)\n\ninterface PersonaPresenceBadgeProps extends HTMLChakraProps<'span'> {}\n\nconst PersonaPresenceBadge = withContext<\n  HTMLSpanElement,\n  PersonaPresenceBadgeProps\n>('span', 'presence')\n\ninterface PersonaDetailsProps extends HTMLChakraProps<'div'> {}\n\n/**\n * Wrapper component for the labels.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaDetails = withContext<HTMLDivElement, PersonaDetailsProps>(\n  'div',\n  'details',\n)\n\ninterface PersonaLabelProps extends HTMLChakraProps<'span'> {}\n\n/**\n * The main label, usually a name.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaLabel = withContext<HTMLSpanElement, PersonaLabelProps>(\n  'span',\n  'label',\n)\n\nPersonaLabel.displayName = 'PersonaLabel'\n\n/**\n * The secondary label, usually the role of a person.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaSecondaryLabel = withContext<HTMLSpanElement, PersonaLabelProps>(\n  'span',\n  'secondaryLabel',\n)\n\n/**\n * The tertiary label, typically a status message.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaTertiaryLabel = withContext<HTMLSpanElement, PersonaLabelProps>(\n  'span',\n  'tertiaryLabel',\n)\n\nexport {\n  PersonaRoot as Root,\n  PersonaAvatar as Avatar,\n  PersonaPresenceBadge as PresenceBadge,\n  PersonaDetails as Details,\n  PersonaLabel as Label,\n  PersonaSecondaryLabel as SecondaryLabel,\n  PersonaTertiaryLabel as TertiaryLabel,\n}\n\nexport type {\n  PersonaRootProps as RootProps,\n  PersonaAvatarProps as AvatarProps,\n  PersonaPresenceBadgeProps as PresenceBadgeProps,\n  PersonaDetailsProps as DetailsProps,\n  PersonaLabelProps as LabelProps,\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "ui/persona/index.ts",
      "content": "export * as Persona from './persona.tsx'\nexport { defaultPersonaPresenceOptions } from './presence.ts'\nexport type { PersonaPresence, PersonaPresenceConfig } from './presence.ts'\n",
      "type": "registry:ui"
    }
  ]
}