{
  "name": "persona",
  "type": "registry:ui",
  "dependencies": [
    "@chakra-ui/react",
    "@saas-ui/chakra-preset",
    "@saas-ui/core"
  ],
  "registryDependencies": [
    "avatar/avatar.tsx"
  ],
  "files": [
    {
      "path": "ui/persona/index.ts",
      "content": "export * as Persona from './persona.tsx'\nexport { defaultPersonaPresenceOptions } from './presence.ts'\nexport type { PersonaPresence, PersonaPresenceConfig } from './presence.ts'\n",
      "type": "registry:ui"
    },
    {
      "path": "ui/persona/persona-composed.tsx",
      "content": "'use client'\n\nimport * as React from 'react'\n\nimport type { PersonaVariantProps } from '@saas-ui/chakra-preset/slot-recipes/persona'\n\nimport * as PersonaPrimitive from './persona.tsx'\nimport type { PersonaPresence } from './presence.ts'\n\ninterface PersonaOptions {\n  /**\n   * The name of the person in the avatar.\n   *\n   * - if `src` has loaded, the name will be used as the `alt` attribute of the `img`\n   * - If `src` is not loaded, the name will be used to create the initials\n   */\n  name?: string\n  /**\n   * The presence status of the person\n   *\n   * If set will add an AvatarBadge with color configured in `Presence`\n   * Default presence options:\n   * - online\n   * - offline\n   * - busy\n   * - dnd\n   * - away\n   */\n  presence?: PersonaPresence\n  /**\n   * The icon shown in the AvatarBadge\n   */\n  presenceIcon?: React.ReactNode\n  /**\n   * Indicates that a person is out of office. Changes the presence badge style.\n   */\n  isOutOfOffice?: boolean\n  /**\n   * Primary label of the persona, defaults to the name\n   */\n  label?: React.ReactNode\n  /**\n   * Secondary label, usually the role of the person\n   * Only visible from md size and up.\n   */\n  secondaryLabel?: React.ReactNode\n  /**\n   * Tertiary label, usually the status of the person.\n   * Only visible from lg size and up.\n   */\n  tertiaryLabel?: React.ReactNode\n  /**\n   * Hide the persona details next to the avatar.\n   */\n  hideDetails?: boolean\n}\n\nexport interface PersonaProps\n  extends PersonaOptions,\n    Omit<PersonaPrimitive.AvatarProps, 'size'>,\n    Omit<PersonaPrimitive.RootProps, 'presence'>,\n    PersonaVariantProps {}\n\n/**\n * The wrapper component that handles default composition.\n *\n * @see Docs https://saas-ui.dev/docs/components/data-display/persona\n */\nexport const Persona = React.forwardRef<HTMLDivElement, PersonaProps>(\n  (props, ref) => {\n    const {\n      name,\n      presence,\n      presenceIcon,\n      isOutOfOffice,\n      label,\n      secondaryLabel,\n      tertiaryLabel,\n      size,\n      hideDetails,\n      children,\n      /** Avatar props */\n      getInitials,\n      icon,\n      loading,\n      onError,\n      src,\n      srcSet,\n      fallback,\n      ...rest\n    } = props\n\n    return (\n      <PersonaPrimitive.Root\n        ref={ref}\n        outOfOffice={isOutOfOffice}\n        presence={presence}\n        size={size}\n        {...rest}\n      >\n        <PersonaPrimitive.Avatar\n          name={name}\n          size={size}\n          getInitials={getInitials}\n          icon={icon}\n          loading={loading}\n          onError={onError}\n          src={src}\n          srcSet={srcSet}\n          fallback={fallback}\n        >\n          {presence ? (\n            <PersonaPrimitive.PresenceBadge>\n              {presenceIcon}\n            </PersonaPrimitive.PresenceBadge>\n          ) : null}\n        </PersonaPrimitive.Avatar>\n\n        {!hideDetails && (\n          <PersonaPrimitive.Details>\n            <PersonaPrimitive.Label>{label || name}</PersonaPrimitive.Label>\n            {secondaryLabel && (\n              <PersonaPrimitive.SecondaryLabel>\n                {secondaryLabel}\n              </PersonaPrimitive.SecondaryLabel>\n            )}\n            {tertiaryLabel && (\n              <PersonaPrimitive.TertiaryLabel>\n                {tertiaryLabel}\n              </PersonaPrimitive.TertiaryLabel>\n            )}\n            {children}\n          </PersonaPrimitive.Details>\n        )}\n      </PersonaPrimitive.Root>\n    )\n  },\n)\n\nPersona.displayName = 'Persona'\n\nexport interface PersonaAvatarProps\n  extends Omit<\n    PersonaProps,\n    'hideDetails' | 'label' | 'secondaryLabel' | 'tertiaryLabel' | 'children'\n  > {}\n\nexport const PersonaAvatar = React.forwardRef<\n  HTMLDivElement,\n  PersonaAvatarProps\n>(function PersonaAvatar(props, ref) {\n  return <Persona ref={ref} {...props} hideDetails />\n})\n",
      "type": "registry:ui"
    },
    {
      "path": "ui/persona/persona.context.ts",
      "content": "import { createSlotRecipeContext } from '@chakra-ui/react'\n\nexport const {\n  useStyles: usePersonaStyles,\n  useRecipeResult,\n  usePropsContext,\n  withProvider,\n  withContext,\n  ClassNamesProvider,\n  PropsProvider,\n  StylesProvider,\n} = createSlotRecipeContext({\n  key: 'suiPersona',\n})\n",
      "type": "registry:ui"
    },
    {
      "path": "ui/persona/persona.stories.tsx",
      "content": "import * as React from 'react'\n\nimport { Container, VStack } from '@chakra-ui/react'\nimport { FiMinus, FiPhone } from 'react-icons/fi'\n\nimport { Persona } from './persona-composed.tsx'\n\nexport default {\n  title: 'Components/Persona',\n  decorators: [\n    (Story: any) => (\n      <Container mt=\"40px\">\n        <Story />\n      </Container>\n    ),\n  ],\n}\n\nconst persona = {\n  name: 'Elliot Alderson',\n  presence: 'online',\n  secondaryLabel: 'Mr Robot',\n  tertiaryLabel: 'Away for lunch',\n}\n\nexport const Basic = () => (\n  <>\n    <VStack gap=\"8\">\n      <Persona {...persona} presence=\"online\" size=\"2xs\" />\n\n      <Persona {...persona} presence=\"online\" size=\"xs\" />\n\n      <Persona {...persona} presence=\"online\" size=\"sm\" />\n\n      <Persona {...persona} presence=\"online\" size=\"md\" />\n\n      <Persona {...persona} presence=\"online\" size=\"lg\" />\n\n      <Persona {...persona} presence=\"online\" size=\"xl\" />\n\n      <Persona {...persona} presence=\"online\" size=\"2xl\" />\n    </VStack>\n  </>\n)\n\nexport const HideDetails = () => (\n  <>\n    <VStack gap=\"8\">\n      <Persona {...persona} hideDetails presence=\"offline\" />\n    </VStack>\n  </>\n)\n\nexport const BadgeIcon = () => (\n  <>\n    <VStack gap=\"8\">\n      <Persona\n        {...persona}\n        presenceIcon={<FiMinus size=\"0.4em\" />}\n        size=\"xl\"\n        presence=\"busy\"\n      />\n    </VStack>\n  </>\n)\n\nexport const LabelWithIcon = () => (\n  <>\n    <VStack gap=\"8\">\n      <Persona\n        {...persona}\n        presence=\"busy\"\n        secondaryLabel={\n          <>\n            <FiPhone /> On a call\n          </>\n        }\n      />\n    </VStack>\n  </>\n)\n\nexport const OutOfOffice = () => (\n  <>\n    <VStack gap=\"8\">\n      <Persona {...persona} presence=\"offline\" size=\"xs\" isOutOfOffice />\n      <Persona {...persona} presence=\"online\" isOutOfOffice />\n      <Persona {...persona} presence=\"away\" size=\"xl\" isOutOfOffice />\n    </VStack>\n  </>\n)\n\nexport const Overflow = () => (\n  <>\n    <VStack gap=\"8\">\n      <Persona\n        {...persona}\n        secondaryLabel=\"This is a very long text and should overflow.\"\n        presence=\"offline\"\n        isOutOfOffice\n        maxW=\"200px\"\n      />\n    </VStack>\n  </>\n)\n",
      "type": "registry:story"
    },
    {
      "path": "ui/persona/persona.tsx",
      "content": "'use client'\n\nimport React, { forwardRef, useMemo } from 'react'\n\nimport {\n  AvatarPropsProvider,\n  HTMLChakraProps,\n  type ImageProps,\n  type SlotRecipeProps,\n  chakra,\n  mergeProps,\n} from '@chakra-ui/react'\nimport type { PersonaVariantProps } from '@saas-ui/chakra-preset/slot-recipes/persona'\nimport { dataAttr } from '@saas-ui/core/utils'\nimport { cx } from '@saas-ui/core/utils'\n\nimport { Avatar, type AvatarProps } from '../avatar/avatar.tsx'\nimport {\n  ClassNamesProvider,\n  StylesProvider,\n  usePropsContext,\n  useRecipeResult,\n  withContext,\n} from './persona.context.ts'\nimport type { PersonaPresence } from './presence.ts'\n\ninterface PersonaRootProps\n  extends HTMLChakraProps<'div'>,\n    SlotRecipeProps<'suiPersona'>,\n    PersonaVariantProps {\n  /**\n   * Indicates that a person is out of office. Changes the presence badge style.\n   */\n  outOfOffice?: boolean\n  /**\n   * The presence status of the person\n   */\n  presence?: PersonaPresence\n}\n\n/**\n * The root component that provides context and styles.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaRoot = forwardRef<HTMLDivElement, PersonaRootProps>(\n  (props, ref) => {\n    const propsContext = usePropsContext()\n\n    const mergedProps = useMemo(\n      () => mergeProps(propsContext, props),\n      [propsContext, props],\n    )\n\n    const {\n      styles,\n      props: rootProps,\n      classNames,\n    } = useRecipeResult(mergedProps)\n\n    const className = classNames['root']\n\n    const { outOfOffice, presence, ...rest } = rootProps\n\n    return (\n      <StylesProvider value={styles}>\n        <ClassNamesProvider value={classNames}>\n          <AvatarPropsProvider\n            value={{\n              size: props.size,\n            }}\n          >\n            <chakra.div\n              ref={ref}\n              {...rest}\n              data-out-of-office={dataAttr(outOfOffice)}\n              data-presence={presence}\n              css={[\n                presence\n                  ? {\n                      '--persona-presence': `colors.presence.${presence}`,\n                    }\n                  : undefined,\n                styles['root'],\n                rest.css,\n              ]}\n              className={cx(className, rest.className)}\n            />\n          </AvatarPropsProvider>\n        </ClassNamesProvider>\n      </StylesProvider>\n    )\n  },\n)\n\ninterface PersonaAvatarOptions {\n  /**\n   * The name of the person in the avatar.\n   *\n   * - if `src` has loaded, the name will be used as the `alt` attribute of the `img`\n   * - If `src` is not loaded, the name will be used to create the initials\n   */\n  name?: string\n}\n\ninterface PersonaAvatarProps extends PersonaAvatarOptions, AvatarProps {\n  src?: string\n  srcSet?: string\n  loading?: ImageProps['loading']\n  icon?: React.ReactElement\n  fallback?: React.ReactNode\n  getInitials?: (name?: string | null) => string | null\n}\n\n/**\n * An avatar with optional status badge.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaAvatar = forwardRef<HTMLDivElement, PersonaAvatarProps>(\n  (props, ref) => {\n    const { children, ...rest } = props\n\n    return (\n      <Avatar ref={ref} {...rest}>\n        {children}\n      </Avatar>\n    )\n  },\n)\n\ninterface PersonaPresenceBadgeProps extends HTMLChakraProps<'span'> {}\n\nconst PersonaPresenceBadge = withContext<\n  HTMLSpanElement,\n  PersonaPresenceBadgeProps\n>('span', 'presence')\n\ninterface PersonaDetailsProps extends HTMLChakraProps<'div'> {}\n\n/**\n * Wrapper component for the labels.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaDetails = withContext<HTMLDivElement, PersonaDetailsProps>(\n  'div',\n  'details',\n)\n\ninterface PersonaLabelProps extends HTMLChakraProps<'span'> {}\n\n/**\n * The main label, usually a name.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaLabel = withContext<HTMLSpanElement, PersonaLabelProps>(\n  'span',\n  'label',\n)\n\nPersonaLabel.displayName = 'PersonaLabel'\n\n/**\n * The secondary label, usually the role of a person.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaSecondaryLabel = withContext<HTMLSpanElement, PersonaLabelProps>(\n  'span',\n  'secondaryLabel',\n)\n\n/**\n * The tertiary label, typically a status message.\n *\n * @see Docs https://saas-ui.dev/docs/components/persona\n */\nconst PersonaTertiaryLabel = withContext<HTMLSpanElement, PersonaLabelProps>(\n  'span',\n  'tertiaryLabel',\n)\n\nexport {\n  PersonaRoot as Root,\n  PersonaAvatar as Avatar,\n  PersonaPresenceBadge as PresenceBadge,\n  PersonaDetails as Details,\n  PersonaLabel as Label,\n  PersonaSecondaryLabel as SecondaryLabel,\n  PersonaTertiaryLabel as TertiaryLabel,\n}\n\nexport type {\n  PersonaRootProps as RootProps,\n  PersonaAvatarProps as AvatarProps,\n  PersonaPresenceBadgeProps as PresenceBadgeProps,\n  PersonaDetailsProps as DetailsProps,\n  PersonaLabelProps as LabelProps,\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "ui/persona/presence.ts",
      "content": "export type PersonaPresence = 'online' | 'offline' | 'busy' | 'dnd' | 'away'\n\nexport interface PersonaPresenceConfig {\n  label: string\n  color: string\n}\n\nexport type PersonaPresenceOptions<P extends string = PersonaPresence> = Record<\n  P,\n  PersonaPresenceConfig\n>\n\n/**\n * The presence configuration object.\n *\n * Default presence values: online, offline, busy, dnd, away\n *\n * You can overwrite colors in the theme semantic tokens.\n * theme.semanticTokens.colors['presence.online'] = 'cyan.500'\n *\n * Or add a custom presence value\n * theme.semanticTokens.colors['presence.vacay'] = 'blue.500'\n *\n * @see Docs https://saas-ui.dev/docs/components/data-display/persona\n */\nexport const defaultPersonaPresenceOptions: PersonaPresenceOptions = {\n  online: {\n    label: 'Online',\n    color: 'presence.online',\n  },\n  offline: {\n    label: 'Offline',\n    color: 'presence.offline',\n  },\n  busy: {\n    label: 'Busy',\n    color: 'presence.busy',\n  },\n  dnd: {\n    label: 'Do-not-disturb',\n    color: 'presence.dnd',\n  },\n  away: {\n    label: 'Away',\n    color: 'presence.away',\n  },\n}\n",
      "type": "registry:ui"
    }
  ]
}