{
  "name": "toaster",
  "type": "registry:ui",
  "dependencies": [
    "@chakra-ui/react"
  ],
  "registryDependencies": [
    "close-button",
    "spinner"
  ],
  "files": [
    {
      "path": "ui/toaster/toaster.tsx",
      "content": "'use client'\n\nimport React, { useCallback, useMemo, useState } from 'react'\n\nimport { Portal } from '@chakra-ui/react/portal'\nimport { Stack } from '@chakra-ui/react/stack'\nimport {\n  Toaster as ChakraToaster,\n  type CreateToasterProps,\n  CreateToasterReturn,\n  Toast,\n  createToaster,\n} from '@chakra-ui/react/toast'\n\nimport { CloseButton } from '../close-button/index.ts'\nimport { Spinner } from '../spinner/index.ts'\n\nexport type { CreateToasterProps, CreateToasterReturn }\n\nconst defaultOptions: CreateToasterProps = {\n  placement: 'bottom-end',\n  pauseOnPageIdle: true,\n}\n\nexport let toast = createToaster(defaultOptions) as CreateToasterReturn\n\nexport interface ToasterProps extends Partial<CreateToasterProps> {\n  closable?: boolean\n}\n\nexport const Toaster = (props?: ToasterProps) => {\n  const { closable: defaultClosable = true, ...options } = props || {}\n\n  const toaster = useMemo(() => {\n    toast = createToaster({\n      ...defaultOptions,\n      ...options,\n    })\n\n    return toast\n  }, [options])\n\n  return (\n    <Portal>\n      <ChakraToaster toaster={toaster} insetInline={{ mdDown: '4' }}>\n        {(toast) => {\n          const closable =\n            toast.meta?.closable === false\n              ? false\n              : defaultClosable && toast.type !== 'loading'\n\n          return (\n            <ToastRoot>\n              {toast.type === 'loading' ? (\n                <Spinner size=\"sm\" color=\"colorPalette.solid\" mt=\"0.5\" />\n              ) : (\n                <Toast.Indicator />\n              )}\n              <Stack gap=\"1\" flex=\"1\" maxWidth=\"100%\">\n                {toast.title && <Toast.Title>{toast.title}</Toast.Title>}\n                {toast.description && (\n                  <Toast.Description>{toast.description}</Toast.Description>\n                )}\n\n                {toast.action && (\n                  <Toast.ActionTrigger>\n                    {toast.action.label}\n                  </Toast.ActionTrigger>\n                )}\n              </Stack>\n\n              {closable !== false && (\n                <Toast.CloseTrigger asChild>\n                  <CloseButton size=\"xs\" />\n                </Toast.CloseTrigger>\n              )}\n            </ToastRoot>\n          )\n        }}\n      </ChakraToaster>\n    </Portal>\n  )\n}\n\n/**\n * Since the height of the toast is dynamic, we need to set the height\n * in the CSS variable `--toast-height` so css transitions can be applied.\n */\nfunction ToastRoot(props: { children: React.ReactNode }) {\n  const [rect, setRect] = useState<DOMRect>()\n\n  const rectCallbackRef = useCallback((el: HTMLDivElement) => {\n    setRect(el?.getBoundingClientRect())\n  }, [])\n\n  return (\n    <Toast.Root\n      ref={rectCallbackRef}\n      width={{ md: 'sm' }}\n      css={{\n        '--toast-height': `${rect?.height}px`,\n      }}\n    >\n      {props.children}\n    </Toast.Root>\n  )\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "ui/toaster/index.ts",
      "content": "export { Toaster, toast } from './toaster.tsx'\n\nexport type { ToasterProps } from './toaster.tsx'\n",
      "type": "registry:ui"
    }
  ]
}