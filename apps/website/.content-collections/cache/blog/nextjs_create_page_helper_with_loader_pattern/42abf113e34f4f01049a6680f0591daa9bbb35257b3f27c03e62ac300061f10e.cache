"var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var B=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),u=(n,e)=>{for(var s in e)c(n,s,{get:e[s],enumerable:!0})},o=(n,e,s,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of y(e))!A.call(n,r)&&r!==s&&c(n,r,{get:()=>e[r],enumerable:!(a=C(e,r))||a.enumerable});return n};var g=(n,e,s)=>(s=n!=null?p(m(n)):{},o(e||!n||!n.__esModule?c(s,\"default\",{value:n,enumerable:!0}):s,n)),f=n=>o(c({},\"__esModule\",{value:!0}),n);var i=B((b,t)=>{t.exports=_jsx_runtime});var N={};u(N,{default:()=>d,toc:()=>D});var l=g(i()),D=[{depth:2,url:\"#how-it-works\",title:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(\"a\",{className:\"subheading-anchor\",href:\"#how-it-works\",children:\"How it works\"})})},{depth:2,url:\"#extending-the-helper\",title:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(\"a\",{className:\"subheading-anchor\",href:\"#extending-the-helper\",children:\"Extending the helper\"})})},{depth:2,url:\"#source-code\",title:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(\"a\",{className:\"subheading-anchor\",href:\"#source-code\",children:\"Source code\"})})}];function h(n){let e={a:\"a\",code:\"code\",h2:\"h2\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:[\"For the last two years I've been using a \",(0,l.jsx)(e.code,{children:\"createPage\"}),` helper with Next.js that\nallows you to re-use some common features, like fetching data, checking roles or feature flags, etc.\nThis idea was originally posted by `,(0,l.jsx)(e.a,{href:\"https://blog.rstankov.com/structuring-next-js-application/\",children:\"Rado Stankov\"}),\" and I've been using it ever since.\"]}),`\n`,(0,l.jsx)(e.p,{children:`With the release of the app router in Next.js 13 I've been looking for a way to improve this pattern\nand make better use of RSC (React Server Components), but didn't find a setup yet that I was fully happy with.`}),`\n`,(0,l.jsxs)(e.p,{children:[\"Earlier this week I came across a tweet from \",(0,l.jsx)(e.a,{href:\"https://x.com/matt_stobbs/status/1807408408011690178\",children:\"@matt_stobbs\"}),` that showed the new\n`,(0,l.jsx)(e.code,{children:\"defineRoute\"}),` function that will be introduced in React Router (and Remix) when it dawned on me that I could use this\nto improve my `,(0,l.jsx)(e.code,{children:\"createPage\"}),\" helper.\"]}),`\n`,(0,l.jsx)(e.h2,{id:\"how-it-works\",children:(0,l.jsx)(e.a,{className:\"subheading-anchor\",href:\"#how-it-works\",children:\"How it works\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"Here's an example how the new \",(0,l.jsx)(e.code,{children:\"createPage\"}),\" helper is used in the \",(0,l.jsx)(e.a,{href:\"https://saas-ui.dev/nextjs-starter-kit\",children:\"Saas UI Pro starterkit\"}),\".\"]}),`\n`,(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.pre,{className:\"shiki plastic\",style:{backgroundColor:\"#21252B\",color:\"#A9B2C3\"},tabIndex:\"0\",children:(0,l.jsxs)(e.code,{children:[(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"notFound\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" '\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"next/navigation\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"'\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"z\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" '\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"zod\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"'\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\"}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"DashboardPage\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" '\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"#features/workspaces/dashboard\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"'\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"createPage\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" '\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"#lib/create-page\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"'\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"import\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"api\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"from\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" '\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"#lib/trpc/rsc.js\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"'\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\"}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"Page\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"generateMetaData\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\" createPage\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"  params: \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"z\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\"object\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"    workspace: \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"z\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\"string\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"(),\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"  }),\"})}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"  searchParams: [\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"'\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"test\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"'\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"],\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\"  loader\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" ({ \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"params\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"    const\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\" workspace\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\" =\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\" await\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\" api\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"workspaces\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\"bySlug\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"      slug: \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"params\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"workspace\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"    })\"})}),`\n`,(0,l.jsx)(e.span,{className:\"line\"}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"    if\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" (\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"!\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"workspace\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\") {\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\"      notFound\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"()\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{className:\"line\"}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"    return\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" {\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"      workspace\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"    }\"})}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"  },\"})}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\"  metadata\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\": \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"async\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" ({ \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" ({\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"    title: \"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"`\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"Dashboard - \"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"${\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"workspace\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"name\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"}`\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\",\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"  }),\"})}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\"  component\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\": ({ \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"params\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"searchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"DashboardPage\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"      params\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"params\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"      searchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"searchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"}\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"      workspace\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\".\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"workspace\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"}\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"    />\"})}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"  ),\"})}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"})\"})}),`\n`,(0,l.jsx)(e.span,{className:\"line\"}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"generateMetaData\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" }\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\"}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"export\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\" default\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\" Page\"})]})]})})}),`\n`,(0,l.jsx)(e.p,{children:\"So what's happening here?\"}),`\n`,(0,l.jsxs)(e.p,{children:[\"The \",(0,l.jsx)(e.code,{children:\"createPage\"}),\" function is a factory function that returns a \",(0,l.jsx)(e.code,{children:\"Page\"}),\" component and \",(0,l.jsx)(e.code,{children:\"metadata\"}),\" or \",(0,l.jsx)(e.code,{children:\"generateMetaData\"}),\" that can be exported from an app router \",(0,l.jsx)(e.code,{children:\"page.tsx\"}),\".\"]}),`\n`,(0,l.jsxs)(e.p,{children:[\"We can define \",(0,l.jsx)(e.code,{children:\"params\"}),\" and \",(0,l.jsx)(e.code,{children:\"searchParams\"}),\" using Zod schemas (or an array with the param names \",(0,l.jsx)(e.code,{children:\"['workspace']\"}),`).\nThese then become available in the `,(0,l.jsx)(e.code,{children:\"loader\"}),\" function that is called server-side to fetch the data for the metadata and page component.\"]}),`\n`,(0,l.jsx)(e.p,{children:`In this example we're fetchin data from a tRPC procedure, but this could be any async function that returns the data needed for the page.\nThe return value of the loader function is then inferred by the metadata, and component handlers.`}),`\n`,(0,l.jsxs)(e.p,{children:[\"The component returned by the \",(0,l.jsx)(e.code,{children:\"createPage\"}),\" is a React Server Component that wraps the \",(0,l.jsx)(e.code,{children:\"DashboardPage\"}),\" component, which can be a regular client component, or another RSC.\"]}),`\n`,(0,l.jsx)(e.p,{children:\"Now we no longer have to import and move around types, params and searchParams are validated, and established a common pattern for fetching initial data for our metadata and page components.\"}),`\n`,(0,l.jsx)(e.h2,{id:\"extending-the-helper\",children:(0,l.jsx)(e.a,{className:\"subheading-anchor\",href:\"#extending-the-helper\",children:\"Extending the helper\"})}),`\n`,(0,l.jsx)(e.p,{children:\"You can easily extend this helper with extra functionality, like role access.\"}),`\n`,(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.pre,{className:\"shiki plastic\",style:{backgroundColor:\"#21252B\",color:\"#A9B2C3\"},tabIndex:\"0\",children:(0,l.jsxs)(e.code,{children:[(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"const\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" { \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"Page\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"generateMetaData\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" } \"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\" createPage\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"({\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"  roles: [\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"'\"}),(0,l.jsx)(e.span,{style:{color:\"#98C379\"},children:\"admin\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"'\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"],\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#B57EDC\"},children:\"  component\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\": ({ \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"params\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"searchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\", \"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" }) \"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"=>\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\" (\"})]}),`\n`,(0,l.jsxs)(e.span,{className:\"line\",children:[(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"    <\"}),(0,l.jsx)(e.span,{style:{color:\"#61AFEF\"},children:\"AdminPage\"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\" params\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"params\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"} \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"searchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"searchParams\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"} \"}),(0,l.jsx)(e.span,{style:{color:\"#D19A66\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#E06C75\"},children:\"=\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"{\"}),(0,l.jsx)(e.span,{style:{color:\"#C6CCD7\"},children:\"data\"}),(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"} />\"})]}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"  ),\"})}),`\n`,(0,l.jsx)(e.span,{className:\"line\",children:(0,l.jsx)(e.span,{style:{color:\"#A9B2C3\"},children:\"})\"})})]})})}),`\n`,(0,l.jsx)(e.h2,{id:\"source-code\",children:(0,l.jsx)(e.a,{className:\"subheading-anchor\",href:\"#source-code\",children:\"Source code\"})}),`\n`,(0,l.jsxs)(e.p,{children:[\"You can \",(0,l.jsx)(e.a,{href:\"https://gist.github.com/Pagebakers/f39f154e5bb6b03c477cb4a1d88ac937\",children:\"find the source code in this gist\"}),\", there are still a few details I'm not certain about.\"]}),`\n`,(0,l.jsxs)(e.ul,{children:[`\n`,(0,l.jsxs)(e.li,{children:[\"Use \",(0,l.jsx)(e.code,{children:\"safeParse\"}),\" for the params and searchParams?\"]}),`\n`,(0,l.jsxs)(e.li,{children:[\"Should the \",(0,l.jsx)(e.code,{children:\"component\"}),\" be wrapped with \",(0,l.jsx)(e.code,{children:\"Suspense\"}),\"?\"]}),`\n`,(0,l.jsx)(e.li,{children:\"Can we hydrate the data returned from the loader function easily to React Query.\"}),`\n`,(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:\"cache\"}),\" the loader function?\"]}),`\n`,(0,l.jsx)(e.li,{children:\"Turn this into a library?\"}),`\n`]}),`\n`,(0,l.jsx)(e.p,{children:\"Please do leave a comment (below the gist) if you have idea's, suggestions or other feedback.\"}),`\n`,(0,l.jsx)(e.p,{children:\"Thanks for reading :)\"})]})}function d(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(h,{...n})}):h(n)}return f(N);})();\n;return Component;"