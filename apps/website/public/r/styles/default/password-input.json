{
  "name": "password-input",
  "type": "registry:ui",
  "dependencies": [
    "@chakra-ui/react"
  ],
  "registryDependencies": [
    "icons"
  ],
  "files": [
    {
      "path": "ui/password-input/index.ts",
      "content": "export { PasswordInput } from './password-input.tsx'\nexport type { PasswordInputProps } from './password-input.tsx'\n",
      "type": "registry:ui"
    },
    {
      "path": "ui/password-input/password-input.stories.tsx",
      "content": "import { Stack } from '@chakra-ui/react'\n\nimport { PasswordInput } from './index.ts'\n\nexport default {\n  title: 'Components/PasswordInput',\n  component: PasswordInput,\n}\n\nexport const Basic = () => {\n  return <PasswordInput />\n}\n\nexport const Sizes = () => {\n  return (\n    <Stack gap=\"4\">\n      <PasswordInput size=\"xs\" />\n      <PasswordInput size=\"sm\" />\n      <PasswordInput size=\"md\" />\n    </Stack>\n  )\n}\n",
      "type": "registry:story"
    },
    {
      "path": "ui/password-input/password-input.tsx",
      "content": "'use client'\n\nimport { forwardRef, useRef } from 'react'\n\nimport {\n  IconButton,\n  type IconButtonProps,\n  Input,\n  InputGroup,\n  type InputGroupProps,\n  type InputProps,\n  mergeRefs,\n  useControllableState,\n} from '@chakra-ui/react'\n\nimport { EyeIcon, EyeOffIcon } from '../icons/index.ts'\n\nexport interface PasswordInputProps\n  extends InputProps,\n    PasswordVisibilityProps {\n  rootProps?: InputGroupProps\n}\n\nexport const PasswordInput = forwardRef<HTMLInputElement, PasswordInputProps>(\n  function PasswordInput(props, ref) {\n    const {\n      rootProps,\n      defaultVisible,\n      visible: visibleProp,\n      onVisibleChange,\n      visibilityIcon = { on: <EyeIcon />, off: <EyeOffIcon /> },\n      ...rest\n    } = props\n\n    const [visible, setVisible] = useControllableState({\n      value: visibleProp,\n      defaultValue: defaultVisible || false,\n      onChange: onVisibleChange,\n    })\n\n    const inputRef = useRef<HTMLInputElement>(null)\n\n    return (\n      <InputGroup\n        width=\"full\"\n        endElement={\n          <VisibilityTrigger\n            disabled={rest.disabled}\n            onPointerDown={(e) => {\n              if (rest.disabled) return\n              if (e.button !== 0) return\n              e.preventDefault()\n              setVisible(!visible)\n            }}\n          >\n            {visible ? visibilityIcon.off : visibilityIcon.on}\n          </VisibilityTrigger>\n        }\n        {...rootProps}\n      >\n        <Input\n          {...rest}\n          ref={mergeRefs(ref, inputRef)}\n          type={visible ? 'text' : 'password'}\n        />\n      </InputGroup>\n    )\n  },\n)\n\nexport interface PasswordVisibilityProps {\n  defaultVisible?: boolean\n  visible?: boolean\n  onVisibleChange?: (visible: boolean) => void\n  visibilityIcon?: { on: React.ReactNode; off: React.ReactNode }\n}\n\nconst VisibilityTrigger = forwardRef<HTMLButtonElement, IconButtonProps>(\n  function VisibilityTrigger(props, ref) {\n    return (\n      <IconButton\n        tabIndex={-1}\n        ref={ref}\n        me=\"-2\"\n        aspectRatio=\"square\"\n        size=\"sm\"\n        variant=\"ghost\"\n        colorPalette=\"gray\"\n        height=\"calc(100% - {spacing.2})\"\n        aria-label=\"Toggle password visibility\"\n        {...props}\n      />\n    )\n  },\n)\n",
      "type": "registry:ui"
    }
  ]
}