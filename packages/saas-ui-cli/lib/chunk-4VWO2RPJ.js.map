{"version":3,"sources":["../src/commands/init/impl.ts","../src/preflights/preflight-init.ts","../src/utils/get-project-info.ts","../src/utils/frameworks.ts","../src/utils/get-package-info.ts","../src/utils/spinner.ts","../src/utils/updaters/update-dependencies.ts","../src/utils/get-package-manager.ts","../src/utils/updaters/update-files.ts","../src/utils/add-components.ts","../src/utils/create-project.ts"],"sourcesContent":["import { promises as fs } from 'node:fs'\nimport path from 'node:path'\nimport prompts from 'prompts'\nimport { z } from 'zod'\n\nimport * as ERRORS from '#utils/errors'\nimport { SCHEMA_URL } from '#constants'\nimport type { LocalContext } from '#context'\nimport { preFlightInit } from '#preflights/preflight-init'\nimport { addComponents } from '#utils/add-components'\nimport { createMonorepoProject } from '#utils/create-project'\nimport {\n  type Config,\n  DEFAULT_COMPONENTS,\n  DEFAULT_UTILS,\n  getConfig,\n  rawConfigSchema,\n  resolveConfigPaths,\n} from '#utils/get-config'\nimport { getPackageManager } from '#utils/get-package-manager'\nimport { getProjectConfig, getProjectInfo } from '#utils/get-project-info'\nimport { handleError } from '#utils/handle-error'\nimport { highlighter } from '#utils/highlighter'\nimport { logger } from '#utils/logger'\nimport { getRegistryStyles } from '#utils/registry'\nimport { spinner } from '#utils/spinner'\n\nexport const initOptionsFlagsSchema = z.object({\n  cwd: z.string(),\n  components: z.array(z.string()).optional(),\n  yes: z.boolean(),\n  defaults: z.boolean(),\n  force: z.boolean(),\n  silent: z.boolean(),\n})\n\ntype InitCommandFlags = z.infer<typeof initOptionsFlagsSchema>\n\nconst initOptionsSchema = initOptionsFlagsSchema.extend({\n  components: z.array(z.string()).optional(),\n})\n\ntype InitCommandFlagsWithComponents = z.infer<typeof initOptionsSchema>\n\ntype InitOptions = InitCommandFlagsWithComponents & {\n  isNewProject?: boolean\n  skipPreflight?: boolean\n  name?: string\n  createMonorepo?: boolean\n}\n\nexport async function init(\n  this: LocalContext,\n  flags: InitCommandFlags,\n  ...components: Array<string>\n): Promise<void> {\n  try {\n    const options = initOptionsSchema.parse({\n      ...flags,\n      cwd: path.resolve(flags.cwd ?? process.cwd()),\n      isNewProject: false,\n      components,\n    })\n\n    const result = await runInit(options)\n\n    if (result === null) {\n      return\n    }\n\n    logger.break()\n    logger.log(\n      `${highlighter.success(\n        'Success!',\n      )} Project initialization completed.\\nYou may now add components.`,\n    )\n    logger.break()\n  } catch (error) {\n    logger.break()\n    handleError(error)\n  }\n}\n\nexport async function runInit(options: InitOptions): Promise<Config | null> {\n  let projectInfo\n\n  if (options.createMonorepo) {\n    const { packageManager, version } = await getPackageManager(options.cwd)\n\n    await createMonorepoProject({\n      cwd: options.cwd,\n      name: options.name || 'my-app',\n      packageManager,\n      packageManagerVersion: version,\n      typescript: true,\n      skipInstall: false,\n    })\n\n    return null\n  }\n\n  const packageJsonPath = path.resolve(options.cwd, 'package.json')\n  const hasPackageJson = await fs\n    .access(packageJsonPath)\n    .then(() => true)\n    .catch(() => false)\n\n  if (!hasPackageJson) {\n    const { createMonorepo } = await prompts({\n      type: 'confirm',\n      name: 'createMonorepo',\n      message: 'No project found. Would you like to create a new monorepo?',\n      initial: false,\n    })\n\n    if (createMonorepo) {\n      const { projectName } = await prompts({\n        type: 'text',\n        name: 'projectName',\n        message: 'What is your project named?',\n        initial: 'my-app',\n        validate: (value) => {\n          if (!value) return 'Project name is required'\n          if (!/^[a-z0-9-]+$/.test(value)) {\n            return 'Project name must contain only lowercase letters, numbers, and hyphens'\n          }\n          return true\n        },\n      })\n\n      const { typescript } = await prompts({\n        type: 'confirm',\n        name: 'typescript',\n        message: 'Would you like to use TypeScript?',\n        initial: true,\n      })\n\n      const packageManager = await getPackageManager(options.cwd)\n\n      await createMonorepoProject({\n        cwd: options.cwd,\n        name: projectName || 'my-app',\n        packageManager: packageManager.packageManager,\n        packageManagerVersion: packageManager.version,\n        typescript,\n        skipInstall: false,\n      })\n\n      return null\n    }\n\n    logger.error(\n      `No ${highlighter.info('package.json')} found in ${highlighter.info(\n        options.cwd,\n      )}.`,\n    )\n    logger.error(\n      `Please run ${highlighter.info(\n        'init',\n      )} in a valid Node.js project or create a monorepo.`,\n    )\n    process.exit(1)\n  } else {\n    projectInfo = await getProjectInfo(options.cwd)\n  }\n\n  const preflight = await preFlightInit(options)\n  if (preflight.errors[ERRORS.MISSING_DIR_OR_EMPTY_PROJECT]) {\n    process.exit(1)\n  }\n  projectInfo = preflight.projectInfo\n\n  const projectConfig = await getProjectConfig(options.cwd, projectInfo)\n  const config = projectConfig\n    ? await promptForMinimalConfig(projectConfig, options)\n    : await promptForConfig(await getConfig(options.cwd))\n\n  if (!options.yes) {\n    const { proceed } = await prompts({\n      type: 'confirm',\n      name: 'proceed',\n      message: `Write configuration to ${highlighter.info(\n        'components.json',\n      )}. Proceed?`,\n      initial: true,\n    })\n\n    if (!proceed) {\n      process.exit(0)\n    }\n  }\n\n  const componentSpinner = spinner(`Writing components.json.`).start()\n  const targetPath = path.resolve(options.cwd, 'components.json')\n  await fs.writeFile(targetPath, JSON.stringify(config, null, 2), 'utf8')\n  componentSpinner.succeed()\n\n  const fullConfig = await resolveConfigPaths(options.cwd, config)\n  const components = ['index', ...(options.components || [])]\n  await addComponents(components, fullConfig, {\n    overwrite: true,\n    silent: options.silent,\n    isNewProject:\n      options.isNewProject || projectInfo?.framework.name === 'next-app',\n  })\n\n  return fullConfig\n}\n\nasync function promptForConfig(defaultConfig: Config | null = null) {\n  logger.info('')\n  const options = await prompts([\n    {\n      type: 'toggle',\n      name: 'typescript',\n      message: `Would you like to use ${highlighter.info(\n        'TypeScript',\n      )} (recommended)?`,\n      initial: defaultConfig?.tsx ?? true,\n      active: 'yes',\n      inactive: 'no',\n    },\n    {\n      type: 'text',\n      name: 'components',\n      message: `Configure the import alias for ${highlighter.info(\n        'components',\n      )}:`,\n      initial: defaultConfig?.aliases['components'] ?? DEFAULT_COMPONENTS,\n    },\n    {\n      type: 'text',\n      name: 'utils',\n      message: `Configure the import alias for ${highlighter.info('utils')}:`,\n      initial: defaultConfig?.aliases['utils'] ?? DEFAULT_UTILS,\n    },\n    {\n      type: 'toggle',\n      name: 'rsc',\n      message: `Are you using ${highlighter.info('React Server Components')}?`,\n      initial: defaultConfig?.rsc ?? true,\n      active: 'yes',\n      inactive: 'no',\n    },\n  ])\n\n  return rawConfigSchema.parse({\n    $schema: SCHEMA_URL,\n    system: 'chakra',\n    style: 'default',\n    rsc: options.rsc,\n    tsx: options.typescript,\n    aliases: {\n      utils: options.utils,\n      components: options.components,\n      // TODO: fix this.\n      lib: options.components.replace(/\\/components$/, 'lib'),\n      hooks: options.components.replace(/\\/components$/, 'hooks'),\n    },\n  })\n}\n\nasync function promptForMinimalConfig(\n  defaultConfig: Config,\n  opts: z.infer<typeof initOptionsSchema>,\n) {\n  let style = defaultConfig.style\n\n  if (!opts.defaults) {\n    const styles = await getRegistryStyles()\n\n    const options = await prompts([\n      {\n        type: 'select',\n        name: 'style',\n        message: `Which ${highlighter.info('style')} would you like to use?`,\n        choices: styles.map((style) => ({\n          title: style.label,\n          value: style.name,\n        })),\n        initial: styles.findIndex((s) => s.name === style),\n      },\n    ])\n\n    style = options.style\n  }\n\n  return rawConfigSchema.parse({\n    $schema: defaultConfig?.$schema,\n    style,\n    rsc: defaultConfig?.rsc,\n    tsx: defaultConfig?.tsx,\n    aliases: defaultConfig?.aliases,\n  })\n}\n","import fs from 'fs-extra'\nimport path from 'path'\nimport prompts from 'prompts'\nimport type z from 'zod'\n\nimport * as ERRORS from '#utils/errors'\nimport type { initOptionsFlagsSchema } from '#commands/init/impl.js'\nimport { getProjectInfo, getTsConfig } from '#utils/get-project-info'\nimport { highlighter } from '#utils/highlighter'\nimport { logger } from '#utils/logger'\nimport { spinner } from '#utils/spinner'\n\nexport async function preFlightInit(\n  options: z.infer<typeof initOptionsFlagsSchema>,\n) {\n  const errors: Record<string, boolean> = {}\n\n  if (!fs.existsSync(options.cwd)) {\n    errors[ERRORS.MISSING_DIR_OR_EMPTY_PROJECT] = true\n    return {\n      errors,\n      projectInfo: null,\n    }\n  }\n\n  const projectSpinner = spinner(`Preflight checks.`, {\n    silent: options.silent,\n  }).start()\n\n  if (\n    fs.existsSync(path.resolve(options.cwd, 'components.json')) &&\n    !options.force\n  ) {\n    projectSpinner?.fail()\n    logger.break()\n    logger.error(\n      `A ${highlighter.info(\n        'components.json',\n      )} file already exists at ${highlighter.info(\n        options.cwd,\n      )}.\\nTo start over, remove the ${highlighter.info(\n        'components.json',\n      )} file and run ${highlighter.info('init')} again.`,\n    )\n    logger.break()\n    process.exit(1)\n  }\n\n  projectSpinner?.succeed()\n\n  const frameworkSpinner = spinner(`Verifying framework.`, {\n    silent: options.silent,\n  }).start()\n  const projectInfo = await getProjectInfo(options.cwd)\n  if (!projectInfo || projectInfo?.framework.name === 'manual') {\n    errors[ERRORS.UNSUPPORTED_FRAMEWORK] = true\n    frameworkSpinner?.fail()\n    logger.break()\n    if (\n      projectInfo &&\n      'links' in projectInfo.framework &&\n      projectInfo.framework.links.installation\n    ) {\n      logger.error(\n        `We could not detect a supported framework at ${highlighter.info(\n          options.cwd,\n        )}.\\n` +\n          `Visit ${highlighter.info(\n            projectInfo?.framework.links.installation,\n          )} to manually configure your project.\\nOnce configured, you can use the cli to add components.`,\n      )\n    }\n    logger.break()\n    process.exit(1)\n  }\n  frameworkSpinner?.succeed(\n    `Verifying framework. Found ${highlighter.info(\n      projectInfo.framework.label,\n    )}.`,\n  )\n\n  const tsConfigSpinner = spinner(`Validating import alias.`, {\n    silent: options.silent,\n  }).start()\n  if (!projectInfo?.aliasPrefix) {\n    tsConfigSpinner?.fail()\n    logger.break()\n    logger.warn(`No import alias found in your tsconfig.json file.`)\n    logger.break()\n\n    // Detect src directory\n    const hasSrcDir = await fs.pathExists(path.resolve(options.cwd, 'src'))\n    const basePath = hasSrcDir ? './src/*' : './*'\n\n    // Prompt user to create an alias\n    const { aliasPrefix } = await prompts({\n      type: 'select',\n      name: 'aliasPrefix',\n      message: `Which import alias would you like to use?`,\n      choices: [\n        {\n          title: highlighter.info('#*'),\n          description: `Maps to ${basePath}`,\n          value: '#*',\n        },\n        {\n          title: highlighter.info('@/*'),\n          description: `Maps to ${basePath}`,\n          value: '@/*',\n        },\n      ],\n      initial: 0,\n    })\n\n    if (!aliasPrefix) {\n      logger.break()\n      logger.error('Import alias is required to continue.')\n      logger.break()\n      process.exit(1)\n    }\n\n    // Update tsconfig.json\n    const tsconfigPath = path.resolve(options.cwd, 'tsconfig.json')\n    const tsconfig = await getTsConfig(options.cwd)\n\n    if (!tsconfig) {\n      logger.break()\n      logger.error('Unable to read tsconfig.json')\n      logger.break()\n      process.exit(1)\n    }\n\n    // Ensure compilerOptions and paths exist\n    if (!tsconfig.compilerOptions) {\n      tsconfig.compilerOptions = {}\n    }\n    if (!tsconfig.compilerOptions.paths) {\n      tsconfig.compilerOptions.paths = {}\n    }\n\n    // Add the alias to paths\n    tsconfig.compilerOptions.paths[aliasPrefix] = [basePath]\n\n    // Write back the tsconfig\n    await fs.writeJSON(tsconfigPath, tsconfig, { spaces: 2 })\n\n    // Run prettier on the tsconfig file\n    const { execa } = await import('execa')\n    try {\n      await execa('npx', ['prettier', '--write', tsconfigPath], {\n        cwd: options.cwd,\n      })\n    } catch (error) {\n      // Silently ignore if prettier fails\n    }\n\n    logger.break()\n    logger.success(\n      `Added ${highlighter.info(aliasPrefix)} to tsconfig.json paths.`,\n    )\n    logger.break()\n\n    tsConfigSpinner?.succeed()\n  } else {\n    tsConfigSpinner?.succeed()\n  }\n\n  if (Object.keys(errors).length > 0) {\n    logger.break()\n    process.exit(1)\n  }\n\n  return {\n    errors,\n    projectInfo,\n  }\n}\n","import fg from 'fast-glob'\nimport fs from 'fs-extra'\nimport path from 'node:path'\nimport { loadConfig } from 'tsconfig-paths'\n\nimport { SCHEMA_URL } from '#constants'\nimport { FRAMEWORKS, type Framework } from '#utils/frameworks'\nimport {\n  type Config,\n  type RawConfig,\n  getConfig,\n  resolveConfigPaths,\n} from '#utils/get-config'\nimport { getPackageInfo } from '#utils/get-package-info'\n\nimport { SYSTEMS, type System } from './systems'\n\ntype ProjectInfo = {\n  framework: Framework\n  system: System | null\n  isSrcDir: boolean\n  isTsx: boolean\n  isRSC: boolean\n  aliasPrefix: string | null\n}\n\nconst PROJECT_SHARED_IGNORE = [\n  '**/node_modules/**',\n  '.next',\n  'public',\n  'dist',\n  'build',\n]\n\nexport async function getProjectInfo(cwd: string): Promise<ProjectInfo | null> {\n  const [configFiles, isSrcDir, isTsx, aliasPrefix, packageJson] =\n    await Promise.all([\n      fg.glob('**/{next,vite,astro}.config.*|gatsby-config.*|composer.json', {\n        cwd,\n        deep: 3,\n        ignore: PROJECT_SHARED_IGNORE,\n      }),\n      fs.pathExists(path.resolve(cwd, 'src')),\n      isTypeScriptProject(cwd),\n      getTsConfigAliasPrefix(cwd),\n      getPackageInfo(cwd, false),\n    ])\n\n  const isUsingAppDir = await fs.pathExists(\n    path.resolve(cwd, `${isSrcDir ? 'src/' : ''}app`),\n  )\n\n  const type: ProjectInfo = {\n    framework: FRAMEWORKS['manual'],\n    system: null,\n    isSrcDir,\n    isRSC: false,\n    isTsx,\n    aliasPrefix: aliasPrefix ?? null,\n  }\n\n  // Chakra UI\n  if (\n    Object.keys(packageJson?.dependencies ?? {}).find((dep) =>\n      dep.startsWith('@chakra-ui/'),\n    )\n  ) {\n    type.system = SYSTEMS['chakra']\n  }\n\n  // Panda CSS\n  if (\n    Object.keys(packageJson?.devDependencies ?? {}).find((dep) =>\n      dep.startsWith('@pandacss/dev'),\n    )\n  ) {\n    type.system = SYSTEMS['panda']\n  }\n\n  // Next.js.\n  if (configFiles.find((file) => file.startsWith('next.config.'))?.length) {\n    type.framework = isUsingAppDir\n      ? FRAMEWORKS['next-app']\n      : FRAMEWORKS['next-pages']\n    type.isRSC = isUsingAppDir\n    return type\n  }\n\n  // Tanstack Start.\n  if (\n    Object.keys(packageJson?.dependencies ?? {}).find((dep) =>\n      dep.startsWith('@tanstack/react-start'),\n    )\n  ) {\n    type.framework = FRAMEWORKS['tanstack-start']\n    return type\n  }\n\n  // Vite.\n  // Some Remix templates also have a vite.config.* file.\n  // We'll assume that it got caught by the Remix check above.\n  if (configFiles.find((file) => file.startsWith('vite.config.'))?.length) {\n    type.framework = FRAMEWORKS['vite']\n    return type\n  }\n\n  return type\n}\n\nexport async function getTsConfigAliasPrefix(cwd: string) {\n  const tsConfig = await loadConfig(cwd)\n\n  if (tsConfig?.resultType === 'failed' || !tsConfig?.paths) {\n    return null\n  }\n\n  // This assume that the first alias is the prefix.\n  for (const [alias, paths] of Object.entries(tsConfig.paths)) {\n    if (\n      paths.includes('./*') ||\n      paths.includes('./src/*') ||\n      paths.includes('./app/*') ||\n      paths.includes('./resources/js/*') // Laravel.\n    ) {\n      return alias.at(0) ?? null\n    }\n  }\n\n  return null\n}\n\nexport async function isTypeScriptProject(cwd: string) {\n  const files = await fg.glob('tsconfig.*', {\n    cwd,\n    deep: 1,\n    ignore: PROJECT_SHARED_IGNORE,\n  })\n\n  return files.length > 0\n}\n\nexport async function getTsConfig(cwd: string = process.cwd()) {\n  try {\n    const tsconfigPath = path.resolve(cwd, 'tsconfig.json')\n    const tsconfig = await fs.readJSON(tsconfigPath)\n\n    if (!tsconfig) {\n      throw new Error('tsconfig.json is missing')\n    }\n\n    return tsconfig\n  } catch (error) {\n    return null\n  }\n}\n\nexport async function getProjectConfig(\n  cwd: string,\n  defaultProjectInfo: ProjectInfo | null = null,\n): Promise<Config | null> {\n  // Check for existing component config.\n  const [existingConfig, projectInfo] = await Promise.all([\n    getConfig(cwd),\n    !defaultProjectInfo\n      ? getProjectInfo(cwd)\n      : Promise.resolve(defaultProjectInfo),\n  ])\n\n  if (existingConfig) {\n    return existingConfig\n  }\n\n  if (!projectInfo) {\n    return null\n  }\n\n  const config: RawConfig = {\n    $schema: SCHEMA_URL,\n    rsc: projectInfo.isRSC,\n    tsx: projectInfo.isTsx,\n    system: projectInfo.system?.name ?? SYSTEMS.chakra.name,\n    style: 'default',\n    aliases: {\n      components: `${projectInfo.aliasPrefix}components`,\n      ui: `${projectInfo.aliasPrefix}components/ui`,\n      hooks: `${projectInfo.aliasPrefix}hooks`,\n      lib: `${projectInfo.aliasPrefix}lib`,\n      utils: `${projectInfo.aliasPrefix}lib/utils`,\n    },\n  }\n\n  return await resolveConfigPaths(cwd, config)\n}\n","export const FRAMEWORKS = {\n  'next-app': {\n    name: 'next-app',\n    label: 'Next.js',\n    links: {\n      installation: 'https://saas-ui.dev/docs/core/installation/nextjs-guide',\n    },\n  },\n  'next-pages': {\n    name: 'next-pages',\n    label: 'Next.js',\n    links: {\n      installation:\n        'https://saas-ui.dev/docs/core/installation/nextjs-pages-guide',\n    },\n  },\n  'tanstack-start': {\n    name: 'tanstack-start',\n    label: 'Remix',\n    links: {\n      installation:\n        'https://saas-ui.dev/docs/core/installation/tanstack-start-guide',\n    },\n  },\n  vite: {\n    name: 'vite',\n    label: 'Vite',\n    links: {\n      installation: 'https://saas-ui.dev/docs/core/installation/vite-guide',\n    },\n  },\n  manual: {\n    name: 'manual',\n    label: 'Manual',\n  },\n} as const\n\nexport type Framework = (typeof FRAMEWORKS)[keyof typeof FRAMEWORKS]\n","import fs from 'node:fs'\nimport path from 'node:path'\nimport type { PackageJson } from 'type-fest'\n\nexport function getPackageInfo(\n  cwd: string = '',\n  shouldThrow: boolean = true,\n): PackageJson | null {\n  const packageJsonPath = path.join(cwd, 'package.json')\n\n  const packageJson = fs.readFileSync(packageJsonPath, 'utf8')\n\n  try {\n    return JSON.parse(packageJson) as PackageJson\n  } catch (error) {\n    if (shouldThrow) {\n      throw error\n    }\n  }\n\n  return null\n}\n","import ora, { type Options } from 'ora'\n\nexport function spinner(\n  text: Options['text'],\n  options?: {\n    silent?: boolean\n  },\n) {\n  return ora({\n    text,\n    isSilent: options?.silent,\n  })\n}\n","import { execa } from 'execa'\n\nimport type { Config } from '#utils/get-config'\nimport { getPackageManager } from '#utils/get-package-manager'\nimport type { RegistryItem } from '#utils/registry/schema'\nimport { spinner } from '#utils/spinner'\n\nexport async function updateDependencies(\n  dependencies: RegistryItem['dependencies'],\n  config: Config,\n  options: {\n    silent?: boolean\n  },\n) {\n  dependencies = Array.from(new Set(dependencies))\n  if (!dependencies?.length) {\n    return\n  }\n\n  options = {\n    silent: false,\n    ...options,\n  }\n\n  const dependenciesSpinner = spinner(`Installing dependencies.`, {\n    silent: options.silent,\n  })?.start()\n  const { packageManager } = await getPackageManager(config.resolvedPaths.cwd)\n  await execa(\n    packageManager,\n    [packageManager === 'npm' ? 'install' : 'add', ...dependencies],\n    {\n      cwd: config.resolvedPaths.cwd,\n    },\n  )\n  dependenciesSpinner?.succeed()\n}\n","import { detect } from '@antfu/ni'\n\ntype PackageManager = 'yarn' | 'pnpm' | 'bun' | 'npm'\n\ninterface PackageManagerResult {\n  packageManager: PackageManager\n  version: string\n}\n\nexport async function getPackageManager(\n  targetDir: string,\n  { withFallback }: { withFallback?: boolean } = {\n    withFallback: false,\n  },\n): Promise<PackageManagerResult> {\n  const packageManager = await detect({ programmatic: true, cwd: targetDir })\n\n  const [name, version = '0.0.0'] = packageManager?.split('@') ?? ['', '0.0.0']\n\n  if (name === 'yarn') return { packageManager: 'yarn', version: version }\n  if (name === 'pnpm') return { packageManager: 'pnpm', version: version }\n  if (name === 'bun') return { packageManager: 'bun', version: version }\n\n  if (!withFallback) {\n    return { packageManager: 'npm', version: '0.0.0' }\n  }\n\n  // Fallback to user agent if not detected.\n  const userAgent = process.env.npm_config_user_agent || ''\n\n  if (userAgent.startsWith('yarn')) {\n    return { packageManager: 'yarn', version: '0.0.0' }\n  }\n\n  if (userAgent.startsWith('pnpm')) {\n    return { packageManager: 'pnpm', version: '0.0.0' }\n  }\n\n  if (userAgent.startsWith('bun')) {\n    return { packageManager: 'bun', version: '0.0.0' }\n  }\n\n  return { packageManager: 'npm', version: '0.0.0' }\n}\n\nexport async function getPackageRunner(cwd: string) {\n  const packageManager = await getPackageManager(cwd)\n\n  if (packageManager.packageManager === 'pnpm') return 'pnpm dlx'\n\n  if (packageManager.packageManager === 'bun') return 'bunx'\n\n  return 'npx'\n}\n","import { existsSync, promises as fs } from 'node:fs'\nimport path, { basename } from 'node:path'\nimport prompts from 'prompts'\n\nimport type { Config } from '#utils/get-config'\nimport { getProjectInfo } from '#utils/get-project-info'\nimport { highlighter } from '#utils/highlighter'\nimport { logger } from '#utils/logger'\nimport { getRegistryItemFileTargetPath } from '#utils/registry'\nimport type { RegistryItem } from '#utils/registry/schema'\nimport { spinner } from '#utils/spinner'\nimport { transform } from '#utils/transformers'\nimport { transformImport } from '#utils/transformers/transform-import'\nimport { transformRsc } from '#utils/transformers/transform-rsc'\n\nexport function resolveTargetDir(\n  projectInfo: Awaited<ReturnType<typeof getProjectInfo>>,\n  config: Config,\n  target: string,\n) {\n  if (target.startsWith('~/')) {\n    return path.join(config.resolvedPaths.cwd, target.replace('~/', ''))\n  }\n  return projectInfo?.isSrcDir\n    ? path.join(config.resolvedPaths.cwd, 'src', target)\n    : path.join(config.resolvedPaths.cwd, target)\n}\n\nexport async function updateFiles(\n  files: RegistryItem['files'],\n  config: Config,\n  options: {\n    overwrite?: boolean\n    force?: boolean\n    silent?: boolean\n  },\n) {\n  if (!files?.length) {\n    return\n  }\n  options = {\n    overwrite: false,\n    force: false,\n    silent: false,\n    ...options,\n  }\n  const filesCreatedSpinner = spinner(`Updating files.`, {\n    silent: options.silent,\n  })?.start()\n\n  const [projectInfo] = await Promise.all([\n    getProjectInfo(config.resolvedPaths.cwd),\n  ])\n\n  const filesCreated = []\n  const filesUpdated = []\n  const filesSkipped = []\n\n  for (const file of files) {\n    if (!file.content) {\n      continue\n    }\n\n    let targetDir = getRegistryItemFileTargetPath(file, config)\n    const fileName = basename(file.path)\n    let filePath = path.join(targetDir, fileName)\n\n    if (file.target) {\n      filePath = resolveTargetDir(projectInfo, config, file.target)\n      targetDir = path.dirname(filePath)\n    }\n\n    if (!config.tsx) {\n      filePath = filePath.replace(/\\.tsx?$/, (match) =>\n        match === '.tsx' ? '.jsx' : '.js',\n      )\n    }\n\n    const existingFile = existsSync(filePath)\n    if (existingFile && !options.overwrite) {\n      filesCreatedSpinner.stop()\n      const { overwrite } = await prompts({\n        type: 'confirm',\n        name: 'overwrite',\n        message: `The file ${highlighter.info(\n          fileName,\n        )} already exists. Would you like to overwrite?`,\n        initial: false,\n      })\n\n      if (!overwrite) {\n        filesSkipped.push(path.relative(config.resolvedPaths.cwd, filePath))\n        continue\n      }\n      filesCreatedSpinner?.start()\n    }\n\n    // Create the target directory if it doesn't exist.\n    if (!existsSync(targetDir)) {\n      await fs.mkdir(targetDir, { recursive: true })\n    }\n\n    // Run our transformers.\n    const content = await transform(\n      {\n        filename: file.path,\n        raw: file.content,\n        config,\n        transformJsx: !config.tsx,\n      },\n      [transformImport, transformRsc],\n    )\n\n    await fs.writeFile(filePath, content, 'utf-8')\n    existingFile\n      ? filesUpdated.push(path.relative(config.resolvedPaths.cwd, filePath))\n      : filesCreated.push(path.relative(config.resolvedPaths.cwd, filePath))\n  }\n\n  const hasUpdatedFiles = filesCreated.length || filesUpdated.length\n  if (!hasUpdatedFiles && !filesSkipped.length) {\n    filesCreatedSpinner?.info('No files updated.')\n  }\n\n  if (filesCreated.length) {\n    filesCreatedSpinner?.succeed(\n      `Created ${filesCreated.length} ${\n        filesCreated.length === 1 ? 'file' : 'files'\n      }:`,\n    )\n    if (!options.silent) {\n      for (const file of filesCreated) {\n        logger.log(`  - ${file}`)\n      }\n    }\n  } else {\n    filesCreatedSpinner?.stop()\n  }\n\n  if (filesUpdated.length) {\n    spinner(\n      `Updated ${filesUpdated.length} ${\n        filesUpdated.length === 1 ? 'file' : 'files'\n      }:`,\n      {\n        silent: options.silent,\n      },\n    )?.info()\n    if (!options.silent) {\n      for (const file of filesUpdated) {\n        logger.log(`  - ${file}`)\n      }\n    }\n  }\n\n  if (filesSkipped.length) {\n    spinner(\n      `Skipped ${filesSkipped.length} ${\n        filesUpdated.length === 1 ? 'file' : 'files'\n      }:`,\n      {\n        silent: options.silent,\n      },\n    )?.info()\n    if (!options.silent) {\n      for (const file of filesSkipped) {\n        logger.log(`  - ${file}`)\n      }\n    }\n  }\n\n  if (!options.silent) {\n    logger.break()\n  }\n}\n","import { type Config } from '#utils/get-config'\nimport { handleError } from '#utils/handle-error'\nimport { logger } from '#utils/logger'\nimport { registryResolveItemsTree } from '#utils/registry'\nimport { spinner } from '#utils/spinner'\nimport { updateDependencies } from '#utils/updaters/update-dependencies'\nimport { updateFiles } from '#utils/updaters/update-files'\n\nexport async function addComponents(\n  components: string[],\n  config: Config,\n  options: {\n    overwrite?: boolean\n    silent?: boolean\n    isNewProject?: boolean\n  },\n) {\n  options = {\n    overwrite: false,\n    silent: false,\n    isNewProject: false,\n    ...options,\n  }\n\n  const registrySpinner = spinner(`Checking registry.`, {\n    silent: options.silent,\n  })?.start()\n  const tree = await registryResolveItemsTree(components, config)\n  if (!tree) {\n    registrySpinner?.fail()\n    return handleError(new Error('Failed to fetch components from registry.'))\n  }\n  registrySpinner?.succeed()\n\n  await updateDependencies(tree.dependencies, config, {\n    silent: options.silent,\n  })\n  await updateFiles(tree.files, config, {\n    overwrite: options.overwrite,\n    silent: options.silent,\n  })\n\n  if (tree.docs) {\n    logger.info(tree.docs)\n  }\n}\n","import { execa } from 'execa'\nimport { promises as fs } from 'node:fs'\nimport path from 'node:path'\n\nimport { highlighter } from '#utils/highlighter'\nimport { logger } from '#utils/logger'\nimport { spinner } from '#utils/spinner'\n\nexport interface CreateProjectOptions {\n  cwd: string\n  name: string\n  packageManager?: 'npm' | 'yarn' | 'pnpm' | 'bun'\n  packageManagerVersion?: string\n  typescript?: boolean\n  skipInstall?: boolean\n}\n\nexport async function createMonorepoProject(\n  options: CreateProjectOptions,\n): Promise<void> {\n  const {\n    cwd,\n    name,\n    packageManager = 'pnpm',\n    packageManagerVersion = '0.0.0',\n    typescript = true,\n    skipInstall = false,\n  } = options\n\n  const projectPath = path.join(cwd, name)\n\n  const createSpinner = spinner('Creating monorepo structure...').start()\n\n  try {\n    // root dir\n    await fs.mkdir(projectPath, { recursive: true })\n\n    await createMonorepoStructure(projectPath, {\n      packageManager,\n      packageManagerVersion,\n      typescript,\n    })\n\n    createSpinner.succeed('Monorepo structure created')\n\n    if (!skipInstall) {\n      const installSpinner = spinner('Installing dependencies...').start()\n      try {\n        await execa(packageManager, ['install'], { cwd: projectPath })\n        installSpinner.succeed('Dependencies installed')\n      } catch (error) {\n        installSpinner.fail('Failed to install dependencies')\n        logger.warn(\n          `You can manually install dependencies by running ${highlighter.info(\n            `cd ${name} && ${packageManager} install`,\n          )}`,\n        )\n      }\n    }\n\n    logger.break()\n    logger.success('Monorepo created successfully!')\n    logger.break()\n    logger.info(`Next steps:`)\n    logger.info(`  1. ${highlighter.info(`cd ${name}`)}`)\n    logger.info(\n      `  2. ${highlighter.info(\n        `${packageManager} ${packageManager === 'npm' ? 'run' : ''} dev`,\n      )}`,\n    )\n    logger.break()\n  } catch (error) {\n    createSpinner.fail('Failed to create monorepo')\n    throw error\n  }\n}\n\nasync function createMonorepoStructure(\n  projectPath: string,\n  options: {\n    packageManager: string\n    packageManagerVersion: string\n    typescript: boolean\n  },\n): Promise<void> {\n  const { packageManager, packageManagerVersion, typescript } = options\n\n  await Promise.all([\n    fs.mkdir(path.join(projectPath, 'apps', 'web'), { recursive: true }),\n    fs.mkdir(path.join(projectPath, 'packages', 'ui'), { recursive: true }),\n    fs.mkdir(path.join(projectPath, 'packages', 'config'), {\n      recursive: true,\n    }),\n  ])\n\n  await fs.writeFile(\n    path.join(projectPath, 'package.json'),\n    JSON.stringify(\n      {\n        name: path.basename(projectPath),\n        private: true,\n        packageManager: `${packageManager}@${packageManagerVersion}`,\n        workspaces:\n          packageManager === 'pnpm' ? undefined : ['apps/*', 'packages/*'],\n        scripts: {\n          dev: 'turbo dev',\n          build: 'turbo build',\n          lint: 'turbo lint',\n          clean: 'turbo clean',\n        },\n        devDependencies: {\n          turbo: '^2.5.8',\n          typescript: typescript ? '^5.9.3' : undefined,\n        },\n      },\n      null,\n      2,\n    ),\n  )\n\n  if (packageManager === 'pnpm') {\n    await fs.writeFile(\n      path.join(projectPath, 'pnpm-workspace.yaml'),\n      `packages:\n  - 'apps/*'\n  - 'packages/*'\n`,\n    )\n  }\n\n  await fs.writeFile(\n    path.join(projectPath, 'turbo.json'),\n    JSON.stringify(\n      {\n        $schema: 'https://turbo.build/schema.json',\n        tasks: {\n          build: {\n            dependsOn: ['^build'],\n            inputs: ['$TURBO_DEFAULT$', '.env*'],\n            outputs: ['.next/**', '!.next/cache/**'],\n          },\n          lint: {\n            dependsOn: ['^lint'],\n          },\n          checkTypes: {\n            dependsOn: ['^check-types'],\n          },\n          dev: {\n            cache: false,\n            persistent: true,\n          },\n        },\n      },\n      null,\n      2,\n    ),\n  )\n\n  await fs.writeFile(\n    path.join(projectPath, 'apps', 'web', 'package.json'),\n    JSON.stringify(\n      {\n        name: 'web',\n        version: '0.1.0',\n        private: true,\n        scripts: {\n          dev: 'next dev',\n          build: 'next build',\n          start: 'next start',\n          lint: 'next lint',\n        },\n        dependencies: {\n          react: '^19.2.0',\n          'react-dom': '^19.2.0',\n          next: '^15.5.4',\n          '@saas-ui/react': '^2.11.4',\n          '@chakra-ui/react': '^2.10.9',\n          '@emotion/react': '^11.14.0',\n          '@emotion/styled': '^11.14.1',\n          'framer-motion': '^10.18.0',\n        },\n        devDependencies: {\n          '@types/node': typescript ? '^24.7.0' : undefined,\n          '@types/react': typescript ? '^19.2.2' : undefined,\n          '@types/react-dom': typescript ? '^19.2.0' : undefined,\n          typescript: typescript ? '^5.9.3' : undefined,\n          eslint: '^9.37.0',\n          'eslint-config-next': '^15.5.4',\n        },\n      },\n      null,\n      2,\n    ),\n  )\n\n  const nextConfigExt = typescript ? 'ts' : 'js'\n  const nextConfigContent = typescript\n    ? `import type { NextConfig } from 'next'\n\nconst config: NextConfig = {\n  reactStrictMode: true,\n  transpilePackages: ['@repo/ui'],\n}\n\nexport default config\n`\n    : `/** @type {import('next').NextConfig} */\nconst config = {\n  reactStrictMode: true,\n  transpilePackages: ['@repo/ui'],\n}\n\nmodule.exports = config\n`\n\n  await fs.writeFile(\n    path.join(projectPath, 'apps', 'web', `next.config.${nextConfigExt}`),\n    nextConfigContent,\n  )\n\n  const configFileName = typescript ? 'tsconfig.json' : 'jsconfig.json'\n  await fs.writeFile(\n    path.join(projectPath, 'apps', 'web', configFileName),\n    JSON.stringify(\n      {\n        // extends: typescript ? 'next/core-web-vitals' : undefined,\n        compilerOptions: {\n          target: 'es5',\n          lib: ['dom', 'dom.iterable', 'esnext'],\n          allowJs: true,\n          skipLibCheck: true,\n          strict: typescript ? true : undefined,\n          forceConsistentCasingInFileNames: true,\n          noEmit: true,\n          esModuleInterop: true,\n          module: 'esnext',\n          moduleResolution: 'bundler',\n          resolveJsonModule: true,\n          isolatedModules: true,\n          jsx: 'preserve',\n          incremental: true,\n          plugins: [\n            {\n              name: 'next',\n            },\n          ],\n          paths: {\n            '@/*': ['./src/*'],\n            '@/components': ['./src/components'],\n            '@/lib': ['./src/lib'],\n            '@/lib/utils': ['./src/lib/utils'],\n            '@/hooks': ['./src/hooks'],\n            '@repo/ui': ['../../packages/ui/src'],\n            '@repo/ui/*': ['../../packages/ui/src/*'],\n            '@repo/ui/components': ['../../packages/ui/src/components/'],\n            '@repo/ui/components/*': ['../../packages/ui/src/components/*'],\n          },\n        },\n        include: [\n          'next-env.d.ts',\n          '**/*.ts',\n          '**/*.tsx',\n          '.next/types/**/*.ts',\n        ],\n        exclude: ['node_modules'],\n      },\n      null,\n      2,\n    ),\n  )\n\n  await Promise.all([\n    fs.mkdir(path.join(projectPath, 'apps', 'web', 'src', 'app'), {\n      recursive: true,\n    }),\n    fs.mkdir(path.join(projectPath, 'apps', 'web', 'src', 'components'), {\n      recursive: true,\n    }),\n    fs.mkdir(path.join(projectPath, 'apps', 'web', 'src', 'lib'), {\n      recursive: true,\n    }),\n    fs.mkdir(path.join(projectPath, 'apps', 'web', 'src', 'hooks'), {\n      recursive: true,\n    }),\n  ])\n\n  const layoutExt = typescript ? 'tsx' : 'jsx'\n  const layoutContent = typescript\n    ? `import type { Metadata } from 'next'\nimport { SaasProvider } from '@saas-ui/react'\n\nexport const metadata: Metadata = {\n  title: 'My App',\n  description: 'Generated with Saas UI CLI',\n}\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <html lang=\"en\">\n      <body>\n        <SaasProvider>{children}</SaasProvider>\n      </body>\n    </html>\n  )\n}\n`\n    : `import { SaasProvider } from '@saas-ui/react'\n\nexport const metadata = {\n  title: 'My App',\n  description: 'Generated with Saas UI CLI',\n}\n\nexport default function RootLayout({ children }) {\n  return (\n    <html lang=\"en\">\n      <body>\n        <SaasProvider>{children}</SaasProvider>\n      </body>\n    </html>\n  )\n}\n`\n\n  await fs.writeFile(\n    path.join(projectPath, 'apps', 'web', 'src', 'app', `layout.${layoutExt}`),\n    layoutContent,\n  )\n\n  const pageContent = `import { Box, Button, Heading, HStack, VStack } from \"@chakra-ui/react\";\n\nexport default function Page() {\n  return (\n    <Box\n      textAlign=\"center\"\n      fontSize=\"xl\"\n      h={\"100vh\"}\n      display={\"flex\"}\n      alignItems={\"center\"}\n      justifyContent={\"center\"}\n    >\n      <VStack gap=\"8\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 550 172\"\n          style={{ height: \"60px\", width: \"180px\" }}\n        >\n          <path\n            fill=\"#8952e0\"\n            d=\"M117.67 16.59h-54c-1.86 0-3.36 1.5-3.36 3.36V46.2c0 2.11-.89 4.11-2.46 5.52l-.1.09a7.438 7.438 0 0 1-4.96 1.9H20.24c-1.86 0-3.36 1.5-3.36 3.36v38.44c0 1.86 1.5 3.36 3.36 3.36h34.51c1.86 0 3.36-1.5 3.36-3.36V59.25c0-2.11.89-4.11 2.46-5.52a7.438 7.438 0 0 1 4.96-1.9h52.15c1.86 0 3.36-1.5 3.36-3.36V19.95a3.37 3.37 0 0 0-3.37-3.36z\"\n          ></path>\n          <path\n            fill=\"#8952e0\"\n            d=\"M117.67 72.78h-34.5c-1.86 0-3.36 1.5-3.36 3.36v36.27c0 2.11-.89 4.11-2.46 5.52a7.438 7.438 0 0 1-4.96 1.9H20.24c-1.86 0-3.36 1.5-3.36 3.36v28.56c0 1.86 1.5 3.36 3.36 3.36h54c1.86 0 3.36-1.5 3.36-3.36v-26.3c0-2.11.89-4.11 2.46-5.52l.1-.09a7.438 7.438 0 0 1 4.96-1.9h32.54c1.86 0 3.36-1.5 3.36-3.36V76.13a3.337 3.337 0 0 0-3.35-3.35z\"\n          ></path>\n          <path\n            fill=\"currentColor\"\n            d=\"m221.7 58.08-5.35 10.82c-5.99-3.69-13.5-5.99-19.48-5.99-5.73 0-9.93 1.91-9.93 6.75 0 12.48 36.04 5.73 35.91 30.31 0 13.88-12.35 20.12-25.98 20.12-9.93 0-20.5-3.31-27.25-9.42l5.22-10.44c5.86 5.22 15.28 8.4 22.67 8.4 6.24 0 11.08-2.17 11.08-7.26 0-13.88-35.66-6.11-35.53-30.56 0-13.75 11.97-19.61 24.96-19.61 8.53 0 17.57 2.55 23.68 6.88zM277.38 111.31c-4.84 5.99-12.61 8.91-22.41 8.91-14.64 0-23.81-9.04-23.81-21.01 0-12.35 9.3-20.25 25.6-20.37h20.5V76.8c0-8.53-5.48-13.63-16.17-13.63-6.49 0-13.24 2.29-19.99 6.88l-5.98-10.19c9.42-5.6 16.3-8.53 29.16-8.53 17.45 0 27.25 8.91 27.38 23.81l.13 44.44H277.4v-8.27zm-.13-15.54v-6.24h-18.34c-9.55 0-14.01 2.55-14.01 9.04 0 6.11 4.97 10.06 13.12 10.06 10.45 0 18.47-5.47 19.23-12.86zM349.38 111.31c-4.84 5.99-12.61 8.91-22.41 8.91-14.64 0-23.81-9.04-23.81-21.01 0-12.35 9.3-20.25 25.6-20.37h20.5V76.8c0-8.53-5.48-13.63-16.17-13.63-6.49 0-13.24 2.29-19.99 6.88l-5.98-10.19c9.42-5.6 16.3-8.53 29.16-8.53 17.45 0 27.25 8.91 27.38 23.81l.13 44.44H349.4v-8.27zm-.12-15.54v-6.24h-18.34c-9.55 0-14.01 2.55-14.01 9.04 0 6.11 4.97 10.06 13.12 10.06 10.44 0 18.46-5.47 19.23-12.86zM425.59 58.08l-5.35 10.82c-5.99-3.69-13.5-5.99-19.48-5.99-5.73 0-9.93 1.91-9.93 6.75 0 12.48 36.04 5.73 35.91 30.31 0 13.88-12.35 20.12-25.98 20.12-9.93 0-20.5-3.31-27.25-9.42l5.22-10.44c5.86 5.22 15.28 8.4 22.67 8.4 6.24 0 11.08-2.17 11.08-7.26 0-13.88-35.66-6.11-35.53-30.56 0-13.75 11.97-19.61 24.96-19.61 8.53 0 17.57 2.55 23.68 6.88zM472.9 120.02c-8.55 0-15.12-2.22-19.51-6.6-4.39-4.37-6.62-10.91-6.62-19.43V51.87h8.8V88.6c0 8.73 1.31 14.71 4 18.28 2.71 3.59 7.28 5.41 13.59 5.41 6.3 0 10.85-1.8 13.52-5.35 2.65-3.52 3.93-9.52 3.93-18.34V51.87h8.54V94c0 8.56-2.22 15.1-6.61 19.46-4.39 4.35-11 6.56-19.64 6.56zM514.66 51.87h8.54v67.66h-8.54z\"\n          ></path>\n        </svg>\n\n        <Heading size=\"2xl\" letterSpacing=\"tight\">\n          Welcome to SaaS UI + Next.js (Monorepo)\n        </Heading>\n\n        <HStack>\n          <Button colorScheme=\"purple\">Let's go!</Button>\n          <Button variant=\"outline\">bun install @saas-ui/react</Button>\n        </HStack>\n      </VStack>\n    </Box>\n  );\n}\n`\n\n  await fs.writeFile(\n    path.join(projectPath, 'apps', 'web', 'src', 'app', `page.${layoutExt}`),\n    pageContent,\n  )\n\n  // Create apps/web/components.json\n  await fs.writeFile(\n    path.join(projectPath, 'apps', 'web', 'components.json'),\n    JSON.stringify(\n      {\n        $schema: 'https://saas-ui.dev/r/schema.json',\n        system: 'chakra',\n        style: 'default',\n        rsc: true,\n        tsx: typescript,\n        aliases: {\n          components: '@/components',\n          ui: '@repo/ui/components',\n          lib: '@/lib',\n          utils: '@/lib/utils',\n          hooks: '@/hooks',\n        },\n      },\n      null,\n      2,\n    ),\n  )\n\n  await fs.writeFile(\n    path.join(projectPath, 'apps', 'web', '.gitignore'),\n    `# dependencies\n/node_modules\n/.pnp\n.pnp.js\n\n# testing\n/coverage\n\n# next.js\n/.next/\n/out/\n\n# production\n/build\n\n# misc\n.DS_Store\n*.pem\n\n# debug\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n\n# local env files\n.env*.local\n\n# vercel\n.vercel\n\n# typescript\n*.tsbuildinfo\nnext-env.d.ts\n`,\n  )\n\n  await fs.writeFile(\n    path.join(projectPath, 'packages', 'ui', 'package.json'),\n    JSON.stringify(\n      {\n        name: '@repo/ui',\n        version: '0.1.0',\n        private: true,\n        main: './src/index.ts',\n        types: './src/index.ts',\n        exports: {\n          './components/*': './src/components/*.tsx',\n          './lib/*': './src/lib/*.ts',\n          './hooks/*': './src/hooks/*.ts',\n        },\n        scripts: {\n          lint: 'eslint .',\n        },\n        dependencies: {\n          '@saas-ui/react': '^2.11.4',\n          '@chakra-ui/react': '^2.10.9',\n          '@emotion/react': '^11.14.0',\n          '@emotion/styled': '^11.14.1',\n          'framer-motion': '^10.18.0',\n        },\n        devDependencies: {\n          '@types/react': typescript ? '^19.2.2' : undefined,\n          '@types/react-dom': typescript ? '^19.2.0' : undefined,\n          typescript: typescript ? '^5.9.3' : undefined,\n          eslint: '^9.37.0',\n        },\n        peerDependencies: {\n          react: '^19.2.0',\n          'react-dom': '^19.2.0',\n        },\n      },\n      null,\n      2,\n    ),\n  )\n\n  await fs.mkdir(path.join(projectPath, 'packages', 'ui', 'src'), {\n    recursive: true,\n  })\n\n  // Create packages/ui directory structure\n  await Promise.all([\n    fs.mkdir(path.join(projectPath, 'packages', 'ui', 'src', 'components'), {\n      recursive: true,\n    }),\n    // fs.mkdir(\n    //   path.join(projectPath, 'packages', 'ui', 'src', 'components', 'ui'),\n    //   {\n    //     recursive: true,\n    //   },\n    // ),\n    fs.mkdir(path.join(projectPath, 'packages', 'ui', 'src', 'lib'), {\n      recursive: true,\n    }),\n    fs.mkdir(path.join(projectPath, 'packages', 'ui', 'src', 'hooks'), {\n      recursive: true,\n    }),\n  ])\n\n  // Create packages/ui/components.json\n  await fs.writeFile(\n    path.join(projectPath, 'packages', 'ui', 'components.json'),\n    JSON.stringify(\n      {\n        $schema: 'https://saas-ui.dev/r/schema.json',\n        system: 'chakra',\n        style: 'default',\n        rsc: true,\n        tsx: typescript,\n        aliases: {\n          components: '@repo/ui/components',\n          ui: '@repo/ui/components/ui',\n          lib: '@repo/ui/lib',\n          utils: '@repo/ui/lib/utils',\n          hooks: '@repo/ui/hooks',\n        },\n      },\n      null,\n      2,\n    ),\n  )\n\n  // Create packages/ui/tsconfig.json if TypeScript\n  if (typescript) {\n    await fs.writeFile(\n      path.join(projectPath, 'packages', 'ui', 'tsconfig.json'),\n      JSON.stringify(\n        {\n          compilerOptions: {\n            target: 'ES2020',\n            useDefineForClassFields: true,\n            lib: ['ES2020', 'DOM', 'DOM.Iterable'],\n            module: 'ESNext',\n            skipLibCheck: true,\n            moduleResolution: 'bundler',\n            allowImportingTsExtensions: true,\n            resolveJsonModule: true,\n            isolatedModules: true,\n            noEmit: true,\n            jsx: 'react-jsx',\n            strict: true,\n            noUnusedLocals: true,\n            noUnusedParameters: true,\n            noFallthroughCasesInSwitch: true,\n            baseUrl: '.',\n            paths: {\n              '@repo/ui/*': ['./src/*'],\n              '@repo/ui/components': ['./src/components'],\n              '@repo/ui/lib': ['./src/lib'],\n              '@repo/ui/lib/utils': ['./src/lib/utils'],\n              '@repo/ui/hooks': ['./src/hooks'],\n            },\n          },\n          include: ['src'],\n          exclude: ['node_modules'],\n        },\n        null,\n        2,\n      ),\n    )\n  }\n\n  await fs.writeFile(\n    path.join(projectPath, 'packages', 'config', 'package.json'),\n    JSON.stringify(\n      {\n        name: '@repo/config',\n        version: '0.1.0',\n        private: true,\n      },\n      null,\n      2,\n    ),\n  )\n\n  await fs.writeFile(\n    path.join(projectPath, '.gitignore'),\n    `# dependencies\nnode_modules\n.pnp\n.pnp.js\n\n# testing\ncoverage\n\n# misc\n.DS_Store\n*.pem\n\n# debug\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n.pnpm-debug.log*\n\n# local env files\n.env\n.env*.local\n\n# turbo\n.turbo\n\n# vercel\n.vercel\n`,\n  )\n\n  await fs.writeFile(\n    path.join(projectPath, 'README.md'),\n    `# ${path.basename(projectPath)}\n\nThis is a monorepo created with Saas UI CLI.\n\n## What's inside?\n\nThis monorepo includes the following packages/apps:\n\n### Apps and Packages\n\n- \\`apps/web\\`: a [Next.js](https://nextjs.org/) app with Saas UI\n- \\`packages/ui\\`: a shared React component library with Saas UI components\n- \\`packages/config\\`: shared configuration (eslint, typescript)\n\n### Structure\n\n\\`\\`\\`\n${path.basename(projectPath)}/\n├── apps/\n│   └── web/                    # Next.js application\n│       ├── src/\n│       │   ├── app/           # Next.js app directory\n│       │   ├── components/    # App-specific components\n│       │   ├── lib/           # App-specific utilities\n│       │   └── hooks/         # App-specific hooks\n│       └── components.json    # Saas UI config for the app\n├── packages/\n│   └── ui/                    # Shared UI component library\n│       ├── src/\n│       │   ├── components/   # Shared components\n│       │   ├── lib/          # Shared utilities\n│       │   └── hooks/        # Shared hooks\n│       └── components.json   # Saas UI config for the UI package\n└── turbo.json                # Turborepo configuration\n\\`\\`\\`\n\n### Adding Components\n\nThis monorepo is configured with Saas UI CLI. You can add components to the UI package:\n\n\\`\\`\\`bash\n# From the root or packages/ui directory\ncd packages/ui\nsui add [component-name]\n\\`\\`\\`\n\nComponents will be added to \\`packages/ui/src/components/\\` and can be imported in your app:\n\n\\`\\`\\`tsx\n// In apps/web/src/app/page.tsx\nimport { Button } from '@repo/ui/components/button'\n\\`\\`\\`\n\n### Utilities\n\nThis monorepo has some additional tools already setup for you:\n\n- [TypeScript](https://www.typescriptlang.org/) for static type checking\n- [ESLint](https://eslint.org/) for code linting\n- [Turborepo](https://turbo.build/repo) for fast builds\n- [Saas UI](https://saas-ui.dev) for UI components\n\n### Develop\n\nTo develop all apps and packages, run the following command:\n\n\\`\\`\\`bash\ncd ${path.basename(projectPath)}\n${packageManager} dev\n\\`\\`\\`\n\nThis will start the Next.js development server for the web app at \\`http://localhost:3000\\`.\n\n### Build\n\nTo build all apps and packages, run the following command:\n\n\\`\\`\\`bash\ncd ${path.basename(projectPath)}\n${packageManager} build\n\\`\\`\\`\n\n### Learn More\n\n- [Saas UI Documentation](https://saas-ui.dev/docs)\n- [Next.js Documentation](https://nextjs.org/docs)\n- [Turborepo Documentation](https://turbo.build/repo/docs)\n`,\n  )\n}\n"],"mappings":"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","names":["fs","path","prompts","z","fs","path","prompts","fg","fs","path","loadConfig","FRAMEWORKS","fs","path","getPackageInfo","cwd","shouldThrow","packageJsonPath","packageJson","error","PROJECT_SHARED_IGNORE","getProjectInfo","cwd","configFiles","isSrcDir","isTsx","aliasPrefix","packageJson","fg","fs","path","isTypeScriptProject","getTsConfigAliasPrefix","getPackageInfo","isUsingAppDir","type","FRAMEWORKS","dep","SYSTEMS","file","tsConfig","loadConfig","alias","paths","getTsConfig","tsconfigPath","tsconfig","getProjectConfig","defaultProjectInfo","existingConfig","projectInfo","getConfig","config","SCHEMA_URL","resolveConfigPaths","ora","spinner","text","options","preFlightInit","options","errors","fs","projectSpinner","spinner","path","logger","highlighter","frameworkSpinner","projectInfo","getProjectInfo","tsConfigSpinner","basePath","aliasPrefix","prompts","tsconfigPath","tsconfig","getTsConfig","execa","execa","detect","getPackageManager","targetDir","withFallback","packageManager","name","version","userAgent","updateDependencies","dependencies","config","options","dependenciesSpinner","spinner","packageManager","getPackageManager","execa","existsSync","fs","path","basename","prompts","resolveTargetDir","projectInfo","config","target","path","updateFiles","files","options","filesCreatedSpinner","spinner","getProjectInfo","filesCreated","filesUpdated","filesSkipped","file","targetDir","getRegistryItemFileTargetPath","fileName","basename","filePath","match","existingFile","existsSync","overwrite","prompts","highlighter","fs","content","transform","transformImport","transformRsc","logger","addComponents","components","config","options","registrySpinner","spinner","tree","registryResolveItemsTree","handleError","updateDependencies","updateFiles","logger","execa","fs","path","createMonorepoProject","options","cwd","name","packageManager","packageManagerVersion","typescript","skipInstall","projectPath","path","createSpinner","spinner","fs","createMonorepoStructure","installSpinner","execa","logger","highlighter","error","nextConfigExt","nextConfigContent","configFileName","layoutExt","layoutContent","initOptionsFlagsSchema","z","initOptionsSchema","init","flags","components","options","path","runInit","logger","highlighter","error","handleError","projectInfo","packageManager","version","getPackageManager","createMonorepoProject","packageJsonPath","fs","getProjectInfo","createMonorepo","prompts","projectName","value","typescript","preflight","preFlightInit","projectConfig","getProjectConfig","config","promptForMinimalConfig","promptForConfig","getConfig","proceed","componentSpinner","spinner","targetPath","fullConfig","resolveConfigPaths","addComponents","defaultConfig","DEFAULT_COMPONENTS","DEFAULT_UTILS","rawConfigSchema","SCHEMA_URL","opts","style","styles","getRegistryStyles","s"]}