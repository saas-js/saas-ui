{
  "name": "file-upload",
  "type": "registry:ui",
  "dependencies": [
    "@chakra-ui/react"
  ],
  "registryDependencies": [
    "button",
    "close-button"
  ],
  "files": [
    {
      "path": "ui/file-upload/file-upload.stories.tsx",
      "content": "import React from 'react'\n\nimport { Box, Heading, Text } from '@chakra-ui/react'\nimport { LuCloudUpload } from 'react-icons/lu'\n\nimport { Button } from '../button/index.ts'\nimport { FileUpload } from './index.ts'\n\nexport default {\n  title: 'Components/File Upload',\n  component: FileUpload.Root,\n}\n\nexport const Basic = () => {\n  return (\n    <FileUpload.Root>\n      <FileUpload.Trigger asChild>\n        <Button variant=\"outline\" size=\"sm\">\n          <LuCloudUpload /> Upload file\n        </Button>\n      </FileUpload.Trigger>\n      <FileUpload.List />\n    </FileUpload.Root>\n  )\n}\n\nexport const WithDropzone = () => {\n  return (\n    <FileUpload.Root maxW=\"xl\" alignItems=\"stretch\" maxFiles={10}>\n      <FileUpload.Dropzone>\n        <Box>\n          <Heading size=\"sm\">Drop files here</Heading>\n          <Text textStyle=\"xs\" color=\"fg.muted\">\n            Images up to 5MB\n          </Text>\n        </Box>\n\n        <FileUpload.Trigger asChild>\n          <Button variant=\"outline\" size=\"sm\">\n            <LuCloudUpload /> Select files\n          </Button>\n        </FileUpload.Trigger>\n      </FileUpload.Dropzone>\n      <FileUpload.List />\n    </FileUpload.Root>\n  )\n}\n",
      "type": "registry:story"
    },
    {
      "path": "ui/file-upload/file-upload.tsx",
      "content": "'use client'\n\nimport * as React from 'react'\n\nimport {\n  FileUpload as ChakraFileUpload,\n  useFileUploadContext,\n} from '@chakra-ui/react/file-upload'\nimport { Span } from '@chakra-ui/react/span'\nimport { type RecipeProps, useRecipe } from '@chakra-ui/react/styled-system'\n\nimport { Button, type ButtonProps } from '../button/index.ts'\nimport { CloseButton } from '../close-button/index.ts'\n\nexport interface RootProps extends ChakraFileUpload.RootProps {\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>\n}\n\nexport const Root = React.forwardRef<HTMLInputElement, RootProps>(\n  function FileUploadRoot(props, ref) {\n    const { children, inputProps, ...rest } = props\n    return (\n      <ChakraFileUpload.Root {...rest}>\n        <ChakraFileUpload.HiddenInput ref={ref} {...inputProps} />\n        {children}\n      </ChakraFileUpload.Root>\n    )\n  },\n)\n\nexport interface DropzoneProps extends ChakraFileUpload.DropzoneProps {}\n\nexport const Dropzone = React.forwardRef<HTMLInputElement, DropzoneProps>(\n  function FileUploadDropzone(props, ref) {\n    const { children, ...rest } = props\n    return (\n      <ChakraFileUpload.Dropzone ref={ref} {...rest}>\n        <ChakraFileUpload.DropzoneContent>\n          {children}\n        </ChakraFileUpload.DropzoneContent>\n      </ChakraFileUpload.Dropzone>\n    )\n  },\n)\n\ninterface VisibilityProps {\n  showSize?: boolean\n  clearable?: boolean\n}\n\ninterface ItemProps extends VisibilityProps {\n  file: File\n  icon?: React.ReactNode\n}\n\nconst Item = React.forwardRef<HTMLLIElement, ItemProps>(\n  function FileUploadItem(props, ref) {\n    const { file, showSize, icon, clearable } = props\n    return (\n      <ChakraFileUpload.Item file={file} ref={ref}>\n        <ChakraFileUpload.ItemPreview>{icon}</ChakraFileUpload.ItemPreview>\n\n        {showSize ? (\n          <ChakraFileUpload.ItemContent>\n            <ChakraFileUpload.ItemName />\n            <ChakraFileUpload.ItemSizeText />\n          </ChakraFileUpload.ItemContent>\n        ) : (\n          <ChakraFileUpload.ItemName flex=\"1\" />\n        )}\n\n        {clearable && (\n          <ChakraFileUpload.ItemDeleteTrigger asChild>\n            <CloseButton size=\"xs\" />\n          </ChakraFileUpload.ItemDeleteTrigger>\n        )}\n      </ChakraFileUpload.Item>\n    )\n  },\n)\n\ninterface ListProps extends VisibilityProps, ChakraFileUpload.ItemGroupProps {\n  files?: File[]\n}\n\nexport const List = React.forwardRef<HTMLUListElement, ListProps>(\n  function FileUploadList(props, ref) {\n    const { showSize, clearable, files, ...rest } = props\n\n    const fileUpload = useFileUploadContext()\n    const acceptedFiles = files ?? fileUpload.acceptedFiles\n\n    if (acceptedFiles.length === 0) return null\n\n    return (\n      <ChakraFileUpload.ItemGroup ref={ref} {...rest}>\n        {acceptedFiles.map((file: File) => (\n          <Item\n            key={file.name}\n            file={file}\n            showSize={showSize}\n            clearable={clearable}\n          />\n        ))}\n      </ChakraFileUpload.ItemGroup>\n    )\n  },\n)\n\ntype Assign<T, U> = Omit<T, keyof U> & U\n\nexport interface InputProps extends Assign<ButtonProps, RecipeProps<'input'>> {\n  placeholder?: React.ReactNode\n}\n\nexport const Input = React.forwardRef<HTMLButtonElement, InputProps>(\n  function FileInput(props, ref) {\n    const inputRecipe = useRecipe({ key: 'input' })\n    const [recipeProps, restProps] = inputRecipe.splitVariantProps(props)\n    const { placeholder = 'Select file(s)', ...rest } = restProps\n    return (\n      <ChakraFileUpload.Trigger asChild>\n        <Button\n          unstyled\n          py=\"0\"\n          ref={ref}\n          {...rest}\n          css={[inputRecipe(recipeProps), props.css]}\n        >\n          <ChakraFileUpload.Context>\n            {({ acceptedFiles }) => {\n              if (acceptedFiles.length === 1) {\n                return <span>{acceptedFiles[0].name}</span>\n              }\n              if (acceptedFiles.length > 1) {\n                return <span>{acceptedFiles.length} files</span>\n              }\n              return <Span color=\"fg.subtle\">{placeholder}</Span>\n            }}\n          </ChakraFileUpload.Context>\n        </Button>\n      </ChakraFileUpload.Trigger>\n    )\n  },\n)\n\nexport const Label = ChakraFileUpload.Label\nexport const ClearTrigger = ChakraFileUpload.ClearTrigger\nexport const Trigger = ChakraFileUpload.Trigger\nexport const Context = ChakraFileUpload.Context\n",
      "type": "registry:ui"
    },
    {
      "path": "ui/file-upload/index.ts",
      "content": "export * as FileUpload from './file-upload.tsx'\n\nexport { useFileUploadContext } from '@chakra-ui/react/file-upload'\n",
      "type": "registry:ui"
    }
  ]
}